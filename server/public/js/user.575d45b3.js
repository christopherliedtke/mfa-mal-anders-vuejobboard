(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0700":function(t,e,a){},"17e4":function(t,e,a){},"23b3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard container py-5"},[a("h2",[t._v("Mein Konto")]),a("BTabs",{attrs:{"content-class":"mt-3",value:parseInt(t.query.tab),lazy:""}},[a("BTab",{attrs:{title:"Account"},on:{click:function(e){return t.setQuery("tab",0)}}},[a("MyAccount")],1),t.$store.state.auth.user.isEmployer?a("BTab",{attrs:{title:"Stellenanzeigen"},on:{click:function(e){return t.setQuery("tab",1)}}},[a("MyJobsList")],1):t._e(),t.$store.state.auth.user.isEmployer?a("BTab",{attrs:{title:"Unternehmen"},on:{click:function(e){return t.setQuery("tab",2)}}},[a("MyCompaniesList")],1):t._e(),t.$store.state.auth.user.isEmployer?a("BTab",{attrs:{title:"Zahlungen"},on:{click:function(e){return t.setQuery("tab",3)}}},[a("MyPaymentsList")],1):t._e(),t.$store.state.auth.user.isEducational?a("BTab",{attrs:{title:"Fortbildungen"},on:{click:function(e){return t.setQuery("tab",4)}}},[a("MyTrainingsList")],1):t._e(),t.$config.starredJobs.active&&(t.$store.state.auth.user.isAdmin||t.$store.state.auth.user.isEmployee||t.$store.state.starredJobs.starredJobs.length>0)?a("BTab",{attrs:{title:"Gespeicherten Stellenanzeigen"},on:{click:function(e){return t.setQuery("tab",5)}}},[a("MyStarredJobs")],1):t._e(),t.$store.state.auth.user.isEmployee?a("BTab",{attrs:{title:"Job-Newsletter"},on:{click:function(e){return t.setQuery("tab",6)}}},[a("MyJobAlerts")],1):t._e()],1),a("Head",{attrs:{title:"Dashboard",desc:"",img:""}})],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Mein Account")]),a("p",[t._v(" Hier können Sie Ihre Account-Daten ändern bzw. Ihren Account löschen. ")]),a("AccountDataForm",{attrs:{"api-users-schema":"private"}}),a("DeleteAccountButton")],1)},r=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-account",modifiers:{"delete-account":!0}}],attrs:{variant:"danger",size:"sm",type:"submit"}},[a("svg",{staticClass:"bi bi-trash-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}})]),t._v("Account löschen")]),a("BModal",{attrs:{id:"delete-account",title:"Account löschen","ok-title":"Jetzt löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:t.deleteAccount}},[a("p",{staticClass:"my-4"},[t._v(" Bist Du sicher, dass Du Deinen Account löschen möchtest? ")]),a("b-form",[a("label",{attrs:{for:"password"}},[t._v("Passwort")]),a("b-input-group",[a("b-form-input",{attrs:{id:"password",type:t.passwordType,placeholder:"Passwort eingeben...",autocomplete:"current-password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("b-input-group-append",{staticStyle:{cursor:"pointer"},attrs:{"is-text":""},on:{click:t.togglePasswordType}},["text"===t.passwordType?a("svg",{staticClass:"bi bi-eye-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}}),a("path",{attrs:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"}})]):a("svg",{staticClass:"bi bi-eye-slash-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"}}),a("path",{attrs:{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"}})])])],1),a("div",{staticClass:"error mt-3"},t._l(t.errors,(function(e){return a("b-alert",{key:e.message,attrs:{show:"",dismissible:"",variant:"warning"}},[t._v(t._s(e.message))])})),1)],1)],1)],1)},l=[],c=a("2b0e"),d=a("6aac"),h=a("e6c7");c["default"].component("BModal",d["a"]),c["default"].directive("b-modal",h["a"]);var b={name:"DeleteAccountButton",data(){return{password:"",passwordType:"password",errors:null}},methods:{async deleteAccount(t){t.preventDefault(),this.$store.dispatch("setOverlay",!0),this.errors=null;const e=await this.$axios.post("/graphql",{query:`\n                      mutation {\n                          deleteMe (password: "${this.password}") {\n                              _id\n                          }\n                      }\n                  `});e.data.errors?this.errors=e.data.errors:(this.$gtag.event("delete_account",{event_label:this.$store.state.auth.user._id}),this.$store.dispatch("logout")),this.$store.dispatch("setOverlay",!1)},togglePasswordType(){"text"===this.passwordType?this.passwordType="password":this.passwordType="text"}}},u=b,m=(a("b3ef"),a("2877")),v=Object(m["a"])(u,o,l,!1,null,"244171ca",null),p=v.exports,g=a("986e"),f={name:"MyAccount",components:{DeleteAccountButton:p,AccountDataForm:g["a"]}},y=f,w=Object(m["a"])(y,n,r,!1,null,null,null),_=w.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Meine Stellenanzeigen")]),a("p",[t._v(" Hier können Sie Stellenanzeigen erstellen, bearbeiten, veröffentlichen oder löschen. ")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/"+(t.$store.state.auth.user.isAdmin?"admin":"user/dashboard")+"/jobs/edit/new",variant:"primary"}},[a("svg",{staticClass:"bi bi-plus-lg mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}})]),t._v("Neue Stelle")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/blog/artikel/8-tipps-fuer-attraktive-stellenanzeigen-fuer-mfas",variant:"secondary",target:"_blank"}},[t._v("Tipps für Stellenanzeigen")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-primary",target:"_blank"}},[t._v("Fragen oder Hilfe benötigt?")]),t._l(t.myJobs,(function(e){return a("div",{key:e._id,staticClass:"card shadow1 bg-light my-3"},[a("div",{staticClass:"card-body"},[a("h4",{domProps:{innerHTML:t._s(e.title)}}),a("div",[e.paidExpiresAt>=new Date&&e.paid?a("span",{staticClass:"badge badge-pill badge-success mr-1"},[t._v("bezahlt")]):t._e(),e.paid?t._e():a("span",{staticClass:"badge badge-pill badge-warning mr-1"},[t._v("unbezahlt")]),"published"===e.status&&e.paidExpiresAt>=new Date&&(!e.applicationDeadline||e.applicationDeadline>=(new Date).getTime())&&e.paid?a("span",{staticClass:"badge badge-pill badge-success mr-1"},[t._v("online")]):t._e(),"draft"===e.status?a("span",{staticClass:"badge badge-pill badge-light mr-1"},[t._v("Entwurf")]):t._e(),"unpublished"===e.status?a("span",{staticClass:"badge badge-pill badge-danger mr-1"},[t._v("offline")]):t._e(),e.applicationDeadline&&e.applicationDeadline<(new Date).getTime()?a("span",{staticClass:"badge badge-pill badge-danger mr-1"},[t._v("Bewerbungsfrist abgelaufen")]):t._e()]),a("div",{staticClass:"my-3"},[a("div",[t._v(" Erstellt: "),a("span",{staticClass:"text-muted"},[t._v(" "+t._s(new Date(parseInt(e.createdAt)).toLocaleString())+" ")])]),e.applicationDeadline?a("div",[t._v(" Bewerbungsfrist: "),a("span",{staticClass:"text-muted"},[t._v(" "+t._s(new Date(e.applicationDeadline).toLocaleString())+" ")])]):t._e(),e.publishedAt&&e.paidExpiresAt>=new Date?a("div",[t._v(" Zuletzt veröffentlicht: "),a("span",{staticClass:"text-muted"},[t._v(" "+t._s(new Date(parseInt(e.publishedAt)).toLocaleString())+" ")])]):t._e(),e.paidExpiresAt>=new Date&&e.payment&&"paid"===e.payment.status?a("div",[t._v(" Bezahlt: "),a("span",{staticClass:"text-muted"},[t._v(" "+t._s(new Date(parseInt(e.payment.paidAt)).toLocaleString())+" ")])]):t._e(),e.paidExpiresAt>=new Date&&"invoice-pending"!=e.status?a("div",[t._v(" Zahlung für Anzeige läuft ab: "),a("span",{staticClass:"text-muted"},[t._v(" "+t._s(new Date(parseInt(e.paidExpiresAt)).toLocaleString())+" ")])]):t._e()]),a("div",{staticClass:"d-flex justify-content-between align-items-end"},[a("div",[a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/jobs/edit/"+e._id,variant:"primary",size:"sm"}},[a("svg",{staticClass:"bi bi-pencil-square mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})]),t._v(" Bearbeiten")]),a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/jobs/preview/"+e._id,target:"_blank",variant:"info",size:"sm"}},[a("svg",{staticClass:"bi bi-eye-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}}),a("path",{attrs:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"}})]),t._v(" Vorschau")]),e.paid&&e.paidExpiresAt>=new Date?a("BDropdown",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{size:"sm",left:"",variant:"secondary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("svg",{staticClass:"bi bi-three-dots-vertical mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})]),t._v(" Status ändern ")]},proxy:!0}],null,!0)},[a("BDropdownItem",{attrs:{variant:""},on:{click:function(a){return a.preventDefault(),t.updateJobStatus(e._id,"draft")}}},[t._v("Entwurf")]),a("BDropdownItem",{attrs:{variant:"success"},on:{click:function(a){return a.preventDefault(),t.updateJobStatus(e._id,"published")}}},[t._v("Online")]),a("BDropdownItem",{staticClass:"mb-0",attrs:{variant:"danger"},on:{click:function(a){return a.preventDefault(),t.updateJobStatus(e._id,"unpublished")}}},[t._v("Offline")])],1):t._e(),e.paidExpiresAt<new Date&&!e.payment?a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{variant:"success",size:"sm",to:"/user/dashboard/checkout/"+e._id}},[a("svg",{staticClass:"bi bi-cart-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"}})]),t._v("Jetzt bezahlen")]):t._e(),"invoice-pending"===e.status||e.payment&&"pending"===e.payment.status?a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{disabled:!0,variant:"light",size:"sm"}},[t._v("Rechnung in Bearbeitung")]):t._e()],1),a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e._id,expression:"job._id"}],staticClass:"mb-2 mb-md-0",attrs:{variant:"outline-danger",size:"sm"}},[a("svg",{staticClass:"bi bi-trash-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}})]),t._v(" Löschen")])],1)])]),a("BModal",{attrs:{id:e._id,title:"Delete "+e.title,"ok-title":"Stellenanzeige löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:function(a){return t.deleteJob(e._id)}}},[a("p",{staticClass:"my-4"},[t._v(" Bist Du sicher, dass Du diese Stellenanzeige löschen möchtest? ")])])],1)}))],2)},$=[],j=a("dd9a"),z=a("9eaa");c["default"].component("BModal",d["a"]),c["default"].directive("b-modal",h["a"]),c["default"].component("BDropdown",j["a"]),c["default"].component("BDropdownItem",z["a"]);var x={name:"MyJobsList",data(){return{myJobs:[]}},created(){this.getJobsByUserId()},mounted(){this.checkPaymentSuccess(this.$route.query)},methods:{async getJobsByUserId(){this.$store.dispatch("setOverlay",!0);try{const t=await this.$axios.get("/graphql",{params:{query:"\n              query {\n                  myJobs {\n                      _id\n                      createdAt\n                      updatedAt\n                      publishedAt\n                      status\n                      paid\n                      paidExpiresAt\n                      applicationDeadline\n                      title\n                      company {\n                          name\n                          street\n                          zipCode\n                          location\n                          state\n                          size\n                      }\n                      payment {\n                          status\n                          paidAt\n                          paymentExpiresAt\n                      }\n                  }\n              }\n          "}});this.myJobs=t.data.data.myJobs}catch(t){this.$root.$bvToast.toast("Ihre Stellenanzeigen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)},async updateJobStatus(t,e){try{const a=await this.$axios.post("/graphql",{query:`\n                              mutation {\n                                  updateJob(_id: "${t}", status: "${e}") {\n                                      _id\n                                      createdAt\n                                      updatedAt\n                                      publishedAt\n                                      status\n                                      paid\n                                      paidExpiresAt\n                                      applicationDeadline\n                                      title\n                                      company {\n                                          name\n                                          street\n                                          zipCode\n                                          location\n                                          state\n                                          size\n                                      }\n                                      payment {\n                                          status\n                                          paidAt\n                                          paymentExpiresAt\n                                      }\n                                  }\n                              }\n                          `});a.data.data.updateJob.status===e?(this.myJobs.forEach((s,i)=>{s._id===t&&(this.myJobs[i].status=e,this.myJobs[i].updatedAt=a.data.data.updateJob.updatedAt)}),this.$root.$bvToast.toast("Der Status der Stellenanzeige wurde erfolgreich aktualisiert.",{title:"Status aktualisiert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):this.$root.$bvToast.toast("Der Status der Stellenanzeige konnte nicht aktualisiert werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Aktualisieren",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}catch(a){this.$root.$bvToast.toast("Der Status der Stellenanzeige konnte nicht aktualisiert werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Aktualisieren",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}},async deleteJob(t){try{const e=await this.$axios.post("/graphql",{query:`\n                          mutation {\n                              deleteJob(_id: "${t}") {\n                                  _id\n                                  status\n                              }\n                          }\n                      `});"deleted"===e.data.data.deleteJob.status?(this.myJobs.forEach((e,a)=>{e._id===t&&this.myJobs.splice(a,1)}),this.$root.$bvToast.toast("Die Stellenanzeige wurde erfolgreich gelöscht.",{title:"Stellenanzeige gelöscht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):this.$root.$bvToast.toast("Die Stellenanzeige konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}catch(e){this.$root.$bvToast.toast("Die Stellenanzeige konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}},async checkPaymentSuccess(t){"true"===t.success?this.$root.$bvToast.toast("Der Zahlungsvorgang wurde erfolgreich abgeschlossen. Ihre Anzeige ist ab sofort auf unserer Stellenbörse verfügbar. Einen Beleg für Ihre Zahlung erhalten Sie auf Ihre angegebene E-Mail Adresse.",{title:"Zahlung erfolgreich",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}):"false"===t.success&&this.$root.$bvToast.toast("Ihre Zahlung konnte leider nicht verarbeitet werden. Bitte versuchen Sie es noch einmal oder kontaktieren Sie uns über unsere Kontaktdaten.",{title:"Zahlung fehlgeschlagen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}}},A=x,T=(a("df75"),Object(m["a"])(A,C,$,!1,null,"222711a5",null)),O=T.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Meine Unternehmen")]),a("p",[t._v(" Hier können Sie Ihre erstellten Unternehmen bearbeiten, löschen bzw. neue Unternehmen erstellen. ")]),a("p",[t._v(' Sie können das selbe Unternehmen mit unterschiedlichen Standorten erstellen und diese gegebenenfalls für Ihre verschiedenen Stellenanzeigen nutzen. Ein Unternehmen können Sie auch direkt während des Erstellens einer Stellenanzeige im Reiter "Stellenanzeigen" einrichten. Bearbeiten Sie hier einzelne Unternehmen, wirkt sich dies direkt auf die verknüpften Stellenanzeigen aus. ')]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/user/dashboard/companies/edit/new",variant:"outline-primary"}},[a("svg",{staticClass:"bi bi-plus-lg mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}})]),t._v("Neues Unternehmen")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-secondary",target:"_blank"}},[t._v("Fragen oder Hilfe benötigt?")]),t._l(t.myCompanies,(function(e){return a("div",{key:e._id,staticClass:"card shadow1 bg-light my-3"},[a("div",{staticClass:"card-body"},[a("h4",[t._v(t._s(e.name)+" | "+t._s(e.location))]),a("div",{staticClass:"my-3"},[a("div",[t._v(" Erstellt: "+t._s(new Date(parseInt(e.createdAt)).toLocaleString())+" ")])]),a("div",{staticClass:"d-flex justify-content-between align-items-end"},[a("div",[a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/companies/edit/"+e._id,variant:"primary",size:"sm"}},[a("svg",{staticClass:"bi bi-pencil-square mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})]),t._v(" Bearbeiten")]),a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/unternehmen/"+e._id+"/"+e.slug,target:"_blank",variant:"info",size:"sm"}},[a("svg",{staticClass:"bi bi-eye-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}}),a("path",{attrs:{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"}})]),t._v(" Unternehmensprofil")])],1),a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e._id,expression:"company._id"}],attrs:{variant:"outline-danger",size:"sm"}},[a("svg",{staticClass:"bi bi-trash-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}})]),t._v(" Löschen")])],1)])]),a("BModal",{attrs:{id:e._id,title:"Delete "+e.name,"ok-title":"Unternehmen löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:function(a){return t.deleteCompany(e._id)}}},[a("p",{staticClass:"my-4"},[t._v(" Bist Du sicher, dass Du das Unternehmen löschen möchtest? ")])])],1)}))],2)},S=[];c["default"].component("BModal",d["a"]),c["default"].directive("b-modal",h["a"]);var B={name:"MyCompaniesList",data(){return{myCompanies:[]}},created(){this.getCompaniesByUserId()},methods:{async getCompaniesByUserId(){this.$store.dispatch("setOverlay",!0);try{const t=await this.$axios.get("/graphql",{params:{query:"\n              query {\n                myCompanies {\n                  _id\n                  createdAt\n                  updatedAt\n                  name\n                  location\n                  slug\n                }\n              }\n            "}});this.myCompanies=t.data.data.myCompanies}catch(t){this.$root.$bvToast.toast("Ihre Unternehmen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)},async deleteCompany(t){try{const e=await this.$axios.post("/graphql",{query:`\n            mutation {\n              deleteCompany(_id: "${t}") {\n                _id\n              }\n            }\n          `});e.data.data.deleteCompany._id?(this.myCompanies.forEach((e,a)=>{e._id===t&&this.myCompanies.splice(a,1)}),this.$root.$bvToast.toast("Das Unternehmen wurde erfolgreich gelöscht.",{title:"Unternehmen gelöscht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):this.$root.$bvToast.toast("Das Unternehmen konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}catch(e){this.$root.$bvToast.toast("Das Unternehmen konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}}}},M=B,D=Object(m["a"])(M,k,S,!1,null,null,null),E=D.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Meine Zahlungen")]),a("p",[t._v(" Hier können Sie Ihre getätigten/ausstehenden Zahlungen bzw. Rechnungen einsehen. ")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-primary",target:"_blank"}},[t._v("Fragen oder Hilfe benötigt?")]),t.myPayments.length>0?a("div",t._l(t.myPayments,(function(e){return a("div",{key:e._id,staticClass:"card shadow1 bg-light my-3"},[a("div",{staticClass:"card-body"},[a("h4",{domProps:{innerHTML:t._s(e.job.title+" | "+e.job.company.name)}}),a("div",["paid"===e.status?a("span",{staticClass:"badge badge-pill badge-success mr-1"},[t._v("bezahlt")]):t._e(),"pending"===e.status?a("span",{staticClass:"badge badge-pill badge-warning mr-1"},[t._v("ausstehend")]):t._e(),"cancelled"===e.status?a("span",{staticClass:"badge badge-pill badge-danger mr-1"},[t._v("verworfen")]):t._e()]),a("div",{staticClass:"my-3"},[a("div",[t._v(" Rechnungsdatum: "+t._s(new Date(parseInt(e.invoiceDate||e.createdAt)).toLocaleDateString("de-DE"))+" ")]),e.paidAt?a("div",[t._v(" Zahlung eingegangen am: "+t._s(new Date(parseInt(e.paidAt)).toLocaleDateString("de-DE"))+" ")]):t._e(),e.paymentExpiresAt&&"paid"===e.status?a("div",[t._v(" Zahlung läuft ab am: "+t._s(new Date(parseInt(e.paymentExpiresAt)).toLocaleDateString("de-DE"))+" ")]):t._e()]),a("div",{staticClass:"d-flex justify-content-start align-items-end"},[a("div",[a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{href:"/api/invoice/download/"+e._id,target:"_blank",variant:"secondary",size:"sm"}},[a("svg",{staticClass:"bi bi-download mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}}),a("path",{attrs:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"}})]),t._v(" Rechnung herunterladen")])],1),a("div",[e.receiptUrl?a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{href:""+e.receiptUrl,target:"_blank",variant:"info",size:"sm"}},[a("svg",{staticClass:"bi bi-box-arrow-up-right mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"}})]),t._v("Zahlungsbeleg abrufen")]):t._e()],1)])])])})),0):t._e()],1)},H=[],I={name:"MyPaymentsList",data(){return{myPayments:[]}},created(){this.getPaymentsByUserId()},methods:{async getPaymentsByUserId(){this.$store.dispatch("setOverlay",!0);try{const t=await this.$axios.get("/graphql",{params:{query:"\n                              query {\n                                  myPayments {\n                                      _id\n                                      createdAt\n                                      updatedAt\n                                      paidAt\n                                      paymentExpiresAt\n                                      invoiceNo\n                                      invoiceDate\n                                      amount\n                                      status\n                                      receiptUrl\n                                      job {\n                                          title\n                                          company {\n                                              name\n                                          }\n                                      }\n                                  }\n                              }\n                          "}});this.myPayments=t.data.data.myPayments}catch(t){this.$root.$bvToast.toast("Ihre Zahlungen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)}}},J=I,q=(a("e7e6"),Object(m["a"])(J,L,H,!1,null,"b486b524",null)),F=q.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.jobs.length>0?a("div",t._l(t.jobs,(function(t){return a("JobCard",{key:t._id,attrs:{job:t}})})),1):a("h5",{staticClass:"my-5"},[t._v(" Du hast bisher keine Stellenanzeigen gespeichert. ")]),t.jobs.length<t.$store.state.starredJobs.starredJobs.length?a("p",{staticClass:"small text-right"},[t._v(" * Einige deiner gespeicherten Stellen sind bereits abgelaufen und werden nicht mehr angezeigt. ")]):t._e()])},N=[],P=a("f0fa"),U={name:"MyStarredJobs",components:{JobCard:P["a"]},data(){return{jobs:[]}},watch:{"$store.state.starredJobs.starredJobs":{handler(t){(0===this.jobs.length&&0!=t.length||this.jobs.length>0)&&this.getJobs()},immediate:!0}},methods:{async getJobs(){this.$store.dispatch("setOverlay",!0);const t=await this.$axios.post("/api/public-jobs/by-ids",{ids:this.$store.state.starredJobs.starredJobs.map(t=>t.job)});this.jobs=t.data.jobs,this.$store.dispatch("setOverlay",!1)}}},Z=U,Q=Object(m["a"])(Z,V,N,!1,null,null,null),K=Q.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Meine Job-Newsletter")]),a("b-form-group",{attrs:{label:"Bitte wählen Sie Ihre wöchentlichen Job-Newsletter aus."}},[a("b-form-checkbox-group",{attrs:{id:"job-alert-checkbox",options:t.jobAlertOptions,switches:"",stacked:""},on:{change:t.updateJobAlert},model:{value:t.jobAlerts,callback:function(e){t.jobAlerts=e},expression:"jobAlerts"}})],1)],1)},W=[],G=a("1ba6"),Y={name:"MyJobAlerts",data(){return{jobAlerts:[],oldJobAlerts:[],jobAlertOptions:G["c"]}},mounted(){this.getJobAlerts()},methods:{async getJobAlerts(){this.$store.dispatch("setOverlay",!0);const t=await this.$axios.get("/graphql",{params:{query:"\n              query {\n                  myJobAlerts {\n                      state\n                  }\n              }\n          "}});this.jobAlerts=t.data.data.myJobAlerts.map(t=>t.state),this.oldJobAlerts=this.jobAlerts,this.$store.dispatch("setOverlay",!1)},async updateJobAlert(t){let e;this.$store.dispatch("setOverlay",!0),t.length>this.oldJobAlerts.length?(e=this.getDifference(t,this.oldJobAlerts),await this.$axios.post("/graphql",{query:`\n              mutation {\n                  addJobAlert (state: "${e[0]}") {\n                      _id\n                      state\n                  }\n              }\n          `})):(e=this.getDifference(this.oldJobAlerts,t),await this.$axios.post("/graphql",{query:`\n              mutation {\n                  deleteJobAlert (state: "${e[0]}") {\n                      _id\n                      state\n                  }\n              }\n          `})),this.oldJobAlerts=t,this.$store.dispatch("setOverlay",!1)},getDifference(t,e){return t.filter(t=>!e.includes(t))}}},X=Y,tt=Object(m["a"])(X,R,W,!1,null,null,null),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Meine Fortbildungen")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/user/dashboard/trainings/edit/new",variant:"outline-primary"}},[a("svg",{staticClass:"bi bi-plus-lg mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"}})]),t._v("Neue Fortbildung")]),a("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-secondary",target:"_blank"}},[t._v("Fragen oder Hilfe benötigt?")]),t._l(t.myTrainings,(function(e){return a("div",{key:e._id,staticClass:"card shadow1 bg-light my-3"},[a("div",{staticClass:"card-body"},[a("h4",[a("span",{domProps:{innerHTML:t._s(e.title)}}),t._v(" | "),a("span",{domProps:{innerHTML:t._s(e.company)}})]),a("div",[e.pending?a("span",{staticClass:"badge badge-pill badge-warning mr-1"},[t._v("wird geprüft")]):e.published&&e.paid?a("span",{staticClass:"badge badge-pill badge-success mr-1"},[t._v("online")]):e.paid&&e.published?t._e():a("span",{staticClass:"badge badge-pill badge-danger mr-1"},[t._v("offline")])]),a("div",{staticClass:"my-3"},[a("div",[t._v(" Erstellt: "+t._s(new Date(parseInt(e.createdAt)).toLocaleString())+" ")])]),a("div",{staticClass:"d-flex justify-content-between align-items-end"},[a("div",[a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/trainings/edit/"+e._id,variant:"primary",size:"sm"}},[a("svg",{staticClass:"bi bi-pencil-square mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})]),t._v(" Bearbeiten")]),e.paid||e.pending?t._e():a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{variant:"success",size:"sm"},on:{click:function(a){return a.preventDefault(),t.submitTraining(e._id)}}},[a("svg",{staticClass:"bi bi-envelope-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"}})]),t._v(" Zur Veröffentlichung einreichen")]),e.pending?a("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{variant:"light",disabled:!0,size:"sm"}},[t._v("In der Prüfung")]):t._e(),e.paid?a("BDropdown",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{size:"sm",left:"",variant:"secondary"},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("svg",{staticClass:"bi bi-three-dots-vertical mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"}})]),t._v(" Status ändern ")]},proxy:!0}],null,!0)},[a("BDropdownItem",{attrs:{variant:"success"},on:{click:function(a){return a.preventDefault(),t.updateTrainingStatus(e._id,!0)}}},[t._v("Online")]),a("BDropdownItem",{staticClass:"mb-0",attrs:{variant:"danger"},on:{click:function(a){return a.preventDefault(),t.updateTrainingStatus(e._id,!1)}}},[t._v("Offline")])],1):t._e()],1),a("div",[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:e._id,expression:"training._id"}],attrs:{variant:"outline-danger",size:"sm"}},[a("svg",{staticClass:"bi bi-trash-fill mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}})]),t._v(" Löschen")])],1)])]),a("BModal",{attrs:{id:e._id,title:"Delete "+e.title,"ok-title":"Unternehmen löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:function(a){return t.deleteTraining(e._id)}}},[a("p",{staticClass:"my-4"},[t._v(" Sind Sie sicher, dass Sie die Fortbildung löschen möchten? ")])])],1)}))],2)},st=[];c["default"].component("BModal",d["a"]),c["default"].directive("b-modal",h["a"]),c["default"].component("BDropdown",j["a"]),c["default"].component("BDropdownItem",z["a"]);var it={name:"MyTrainingsList",data(){return{myTrainings:[]}},created(){this.getTrainingsByUserId()},methods:{async getTrainingsByUserId(){this.$store.dispatch("setOverlay",!0);try{const t=await this.$axios.get("/graphql",{params:{query:"\n              query {\n                myTrainings {\n                  _id\n                  createdAt\n                  updatedAt\n                  title\n                  company\n                  published\n                  paid\n                  pending\n                }\n              }\n            "}});this.myTrainings=t.data.data.myTrainings}catch(t){this.$root.$bvToast.toast("Ihre Fortbildungen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)},async updateTrainingStatus(t,e){try{const a=await this.$axios.post("/graphql",{query:`\n            mutation {\n              updateTraining (_id: "${t}" published: ${e}) {\n                _id\n                createdAt\n                updatedAt\n                title\n                company\n                published\n                paid\n                pending\n              }\n            }\n          `});if(a.data.errors)throw new Error("Fortbildung konnte nicht gespeichert werden.");this.myTrainings.forEach((e,s)=>{e._id===t&&this.myTrainings.splice(s,1,a.data.data.updateTraining)}),this.$root.$bvToast.toast("Die Fortbildung wurde erfolgreich gespeichert.",{title:"Fortbildung gespeichert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})}catch(a){this.$root.$bvToast.toast("Beim Speichern der Fortbildung ist ein Fehler aufgetreten. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Speichern",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}},async submitTraining(t){try{const e=await this.$axios.post("/graphql",{query:`\n            mutation {\n              submitTraining (_id: "${t}") {\n                _id\n                createdAt\n                updatedAt\n                title\n                company\n                published\n                paid\n                pending\n              }\n            }\n          `});if(e.data.errors)throw new Error("Fortbildung konnte nicht eingereicht werden.");this.myTrainings.forEach((a,s)=>{a._id===t&&(this.myTrainings[s].pending=e.data.data.submitTraining.pending,this.myTrainings[s].updatedAt=e.data.data.submitTraining.updatedAt)}),this.$root.$bvToast.toast("Die Fortbildung wurde erfolgreich eingereicht. Sie erhalten eine Nachricht sobald die Fortbildung veröffentlicht wurde.",{title:"Fortbildung eingereicht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})}catch(e){this.$root.$bvToast.toast("Die Fortbildung konnte nicht eingereicht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Einreichen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}},async deleteTraining(t){try{const e=await this.$axios.post("/graphql",{query:`\n            mutation {\n              deleteTraining(_id: "${t}") {\n                _id\n              }\n            }\n          `});if(!e.data.data.deleteTraining._id)throw new Error;this.myTrainings.forEach((a,s)=>{e._id===t&&this.myTrainings.splice(s,1)}),this.$root.$bvToast.toast("Die Fortbildung wurde erfolgreich gelöscht.",{title:"Fortbildung gelöscht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})}catch(e){this.$root.$bvToast.toast("Die Fortbildung konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}}}},nt=it,rt=(a("3f5c"),Object(m["a"])(nt,at,st,!1,null,"3ffd6aa0",null)),ot=rt.exports,lt=a("2f79"),ct=a("c637"),dt=a("e863"),ht=a("0056"),bt=a("9bfa"),ut=a("a723"),mt=a("9b76"),vt=a("2326"),pt=a("6d40"),gt=a("906c"),ft=a("6b77"),yt=a("6c06"),wt=a("7b1e"),_t=a("3c21"),Ct=a("a8c8"),$t=a("58f2"),jt=a("3a58"),zt=a("d82f"),xt=a("47df"),At=a("cf75"),Tt=a("8515"),Ot=a("90ef"),kt=a("8c18"),St=a("aa59"),Bt=a("b42e");function Mt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Dt,Et=function(t){return t="left"===t?"start":"right"===t?"end":t,"justify-content-".concat(t)},Lt=Object(At["c"])({align:Object(At["b"])(ut["s"]),cardHeader:Object(At["b"])(ut["g"],!1),fill:Object(At["b"])(ut["g"],!1),justified:Object(At["b"])(ut["g"],!1),pills:Object(At["b"])(ut["g"],!1),small:Object(At["b"])(ut["g"],!1),tabs:Object(At["b"])(ut["g"],!1),tag:Object(At["b"])(ut["s"],"ul"),vertical:Object(At["b"])(ut["g"],!1)},ct["P"]),Ht=c["default"].extend({name:ct["P"],functional:!0,props:Lt,render:function(t,e){var a,s=e.props,i=e.data,n=e.children,r=s.tabs,o=s.pills,l=s.vertical,c=s.align,d=s.cardHeader;return t(s.tag,Object(Bt["a"])(i,{staticClass:"nav",class:(a={"nav-tabs":r,"nav-pills":o&&!r,"card-header-tabs":!l&&d&&r,"card-header-pills":!l&&d&&o&&!r,"flex-column":l,"nav-fill":!l&&s.fill,"nav-justified":!l&&s.justified},Mt(a,Et(c),!l&&c),Mt(a,"small",s.small),a)}),n)}});function It(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?It(Object(a),!0).forEach((function(e){qt(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function qt(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Ft,Vt,Nt=Object($t["a"])("value",{type:ut["l"]}),Pt=Nt.mixin,Ut=Nt.props,Zt=Nt.prop,Qt=Nt.event,Kt=function(t){return!t.disabled},Rt=c["default"].extend({name:ct["ab"],inject:{bvTabs:{default:function(){return{}}}},props:{controls:Object(At["b"])(ut["s"]),id:Object(At["b"])(ut["s"]),noKeyNav:Object(At["b"])(ut["g"],!1),posInSet:Object(At["b"])(ut["l"]),setSize:Object(At["b"])(ut["l"]),tab:Object(At["b"])(),tabIndex:Object(At["b"])(ut["l"])},methods:{focus:function(){Object(gt["d"])(this.$refs.link)},handleEvt:function(t){if(!this.tab.disabled){var e=t.type,a=t.keyCode,s=t.shiftKey;"click"===e||"keydown"===e&&a===bt["j"]?(Object(ft["f"])(t),this.$emit(ht["f"],t)):"keydown"!==e||this.noKeyNav||(-1!==[bt["k"],bt["f"],bt["e"]].indexOf(a)?(Object(ft["f"])(t),s||a===bt["e"]?this.$emit(ht["r"],t):this.$emit(ht["E"],t)):-1!==[bt["a"],bt["i"],bt["b"]].indexOf(a)&&(Object(ft["f"])(t),s||a===bt["b"]?this.$emit(ht["y"],t):this.$emit(ht["B"],t)))}}},render:function(t){var e=this.id,a=this.tabIndex,s=this.setSize,i=this.posInSet,n=this.controls,r=this.handleEvt,o=this.tab,l=o.title,c=o.localActive,d=o.disabled,h=o.titleItemClass,b=o.titleLinkClass,u=o.titleLinkAttributes,m=t(St["a"],{staticClass:"nav-link",class:[{active:c&&!d,disabled:d},b,c?this.bvTabs.activeNavItemClass:null],props:{disabled:d},attrs:Jt(Jt({},u),{},{id:e,role:"tab",tabindex:a,"aria-selected":c&&!d?"true":"false","aria-setsize":s,"aria-posinset":i,"aria-controls":n}),on:{click:r,keydown:r},ref:"link"},[this.tab.normalizeSlot(mt["L"])||l]);return t("li",{staticClass:"nav-item",class:[h],attrs:{role:"presentation"}},[m])}}),Wt=Object(zt["j"])(Lt,["tabs","isNavBar","cardHeader"]),Gt=Object(At["c"])(Object(zt["m"])(Jt(Jt(Jt(Jt({},Ot["b"]),Ut),Wt),{},{activeNavItemClass:Object(At["b"])(ut["e"]),activeTabClass:Object(At["b"])(ut["e"]),card:Object(At["b"])(ut["g"],!1),contentClass:Object(At["b"])(ut["e"]),end:Object(At["b"])(ut["g"],!1),lazy:Object(At["b"])(ut["g"],!1),navClass:Object(At["b"])(ut["e"]),navWrapperClass:Object(At["b"])(ut["e"]),noFade:Object(At["b"])(ut["g"],!1),noKeyNav:Object(At["b"])(ut["g"],!1),noNavStyle:Object(At["b"])(ut["g"],!1),tag:Object(At["b"])(ut["s"],"div")})),ct["Z"]),Yt=c["default"].extend({name:ct["Z"],mixins:[Ot["a"],Pt,kt["a"]],provide:function(){return{bvTabs:this}},props:Gt,data:function(){return{currentTab:Object(jt["b"])(this[Zt],-1),tabs:[],registeredTabs:[]}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var t=[];return this.card&&this.vertical&&t.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(t,[this.navClass])}},watch:(Dt={},qt(Dt,Zt,(function(t,e){if(t!==e){t=Object(jt["b"])(t,-1),e=Object(jt["b"])(e,0);var a=this.tabs[t];a&&!a.disabled?this.activateTab(a):t<e?this.previousTab():this.nextTab()}})),qt(Dt,"currentTab",(function(t){var e=-1;this.tabs.forEach((function(a,s){s!==t||a.disabled?a.localActive=!1:(a.localActive=!0,e=s)})),this.$emit(Qt,e)})),qt(Dt,"tabs",(function(t,e){var a=this;Object(_t["a"])(t.map((function(t){return t[lt["a"]]})),e.map((function(t){return t[lt["a"]]})))||this.$nextTick((function(){a.$emit(ht["e"],t.slice(),e.slice())}))})),qt(Dt,"registeredTabs",(function(){this.updateTabs()})),Dt),created:function(){this.$_observer=null},mounted:function(){this.setObserver(!0)},beforeDestroy:function(){this.setObserver(!1),this.tabs=[]},methods:{registerTab:function(t){Object(vt["a"])(this.registeredTabs,t)||this.registeredTabs.push(t)},unregisterTab:function(t){this.registeredTabs=this.registeredTabs.slice().filter((function(e){return e!==t}))},setObserver:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var a=function(){t.$nextTick((function(){Object(gt["B"])((function(){t.updateTabs()}))}))};this.$_observer=Object(xt["a"])(this.$refs.content,a,{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var t=this.registeredTabs.filter((function(t){return 0===t.$children.filter((function(t){return t._isTab})).length})),e=[];if(dt["g"]&&t.length>0){var a=t.map((function(t){return"#".concat(t.safeId())})).join(", ");e=Object(gt["D"])(a,this.$el).map((function(t){return t.id})).filter(yt["a"])}return Object(Tt["a"])(t,(function(t,a){return e.indexOf(t.safeId())-e.indexOf(a.safeId())}))},updateTabs:function(){var t=this.getTabs(),e=t.indexOf(t.slice().reverse().find((function(t){return t.localActive&&!t.disabled})));if(e<0){var a=this.currentTab;a>=t.length?e=t.indexOf(t.slice().reverse().find(Kt)):t[a]&&!t[a].disabled&&(e=a)}e<0&&(e=t.indexOf(t.find(Kt))),t.forEach((function(t,a){t.localActive=a===e})),this.tabs=t,this.currentTab=e},getButtonForTab:function(t){return(this.$refs.buttons||[]).find((function(e){return e.tab===t}))},updateButton:function(t){var e=this.getButtonForTab(t);e&&e.$forceUpdate&&e.$forceUpdate()},activateTab:function(t){var e=this.currentTab,a=this.tabs,s=!1;if(t){var i=a.indexOf(t);if(i!==e&&i>-1&&!t.disabled){var n=new pt["a"](ht["a"],{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(n.type,i,e,n),n.defaultPrevented||(this.currentTab=i,s=!0)}}return s||this[Zt]===e||this.$emit(Qt,e),s},deactivateTab:function(t){return!!t&&this.activateTab(this.tabs.filter((function(e){return e!==t})).find(Kt))},focusButton:function(t){var e=this;this.$nextTick((function(){Object(gt["d"])(e.getButtonForTab(t))}))},emitTabClick:function(t,e){Object(wt["d"])(e)&&t&&t.$emit&&!t.disabled&&t.$emit(ht["f"],e)},clickTab:function(t,e){this.activateTab(t),this.emitTabClick(t,e)},firstTab:function(t){var e=this.tabs.find(Kt);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))},previousTab:function(t){var e=Object(Ct["b"])(this.currentTab,0),a=this.tabs.slice(0,e).reverse().find(Kt);this.activateTab(a)&&t&&(this.focusButton(a),this.emitTabClick(a,t))},nextTab:function(t){var e=Object(Ct["b"])(this.currentTab,-1),a=this.tabs.slice(e+1).find(Kt);this.activateTab(a)&&t&&(this.focusButton(a),this.emitTabClick(a,t))},lastTab:function(t){var e=this.tabs.slice().reverse().find(Kt);this.activateTab(e)&&t&&(this.focusButton(e),this.emitTabClick(e,t))}},render:function(t){var e=this,a=this.align,s=this.card,i=this.end,n=this.fill,r=this.firstTab,o=this.justified,l=this.lastTab,c=this.nextTab,d=this.noKeyNav,h=this.noNavStyle,b=this.pills,u=this.previousTab,m=this.small,v=this.tabs,p=this.vertical,g=v.find((function(t){return t.localActive&&!t.disabled})),f=v.find((function(t){return!t.disabled})),y=v.map((function(a,s){var i,n=a.safeId,o=null;return d||(o=-1,(a===g||!g&&a===f)&&(o=null)),t(Rt,{props:{controls:n?n():null,id:a.controlledBy||(n?n("_BV_tab_button_"):null),noKeyNav:d,posInSet:s+1,setSize:v.length,tab:a,tabIndex:o},on:(i={},qt(i,ht["f"],(function(t){e.clickTab(a,t)})),qt(i,ht["r"],r),qt(i,ht["E"],u),qt(i,ht["B"],c),qt(i,ht["y"],l),i),key:a[lt["a"]]||s,ref:"buttons",refInFor:!0})})),w=t(Ht,{class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:n,justified:o,align:a,tabs:!h&&!b,pills:!h&&b,vertical:p,small:m,cardHeader:s&&!p},ref:"nav"},[this.normalizeSlot(mt["J"])||t(),y,this.normalizeSlot(mt["I"])||t()]);w=t("div",{class:[{"card-header":s&&!p&&!i,"card-footer":s&&!p&&i,"col-auto":p},this.navWrapperClass],key:"bv-tabs-nav"},[w]);var _=this.normalizeSlot()||[],C=t();0===_.length&&(C=t("div",{class:["tab-pane","active",{"card-body":s}],key:"bv-empty-tab"},this.normalizeSlot(mt["i"])));var $=t("div",{staticClass:"tab-content",class:[{col:p},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")},key:"bv-content",ref:"content"},[_,C]);return t(this.tag,{staticClass:"tabs",class:{row:p,"no-gutters":p&&s},attrs:{id:this.safeId()}},[i?$:t(),w,i?t():$])}}),Xt=a("ce2a");function te(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function ee(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?te(Object(a),!0).forEach((function(e){ae(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function ae(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var se="active",ie=ht["Y"]+se,ne=Object(At["c"])(Object(zt["m"])(ee(ee({},Ot["b"]),{},(Ft={},ae(Ft,se,Object(At["b"])(ut["g"],!1)),ae(Ft,"buttonId",Object(At["b"])(ut["s"])),ae(Ft,"disabled",Object(At["b"])(ut["g"],!1)),ae(Ft,"lazy",Object(At["b"])(ut["g"],!1)),ae(Ft,"noBody",Object(At["b"])(ut["g"],!1)),ae(Ft,"tag",Object(At["b"])(ut["s"],"div")),ae(Ft,"title",Object(At["b"])(ut["s"])),ae(Ft,"titleItemClass",Object(At["b"])(ut["e"])),ae(Ft,"titleLinkAttributes",Object(At["b"])(ut["o"])),ae(Ft,"titleLinkClass",Object(At["b"])(ut["e"])),Ft))),ct["W"]),re=c["default"].extend({name:ct["W"],mixins:[Ot["a"],kt["a"]],inject:{bvTabs:{default:function(){return{}}}},props:ne,data:function(){return{localActive:this[se]&&!this.disabled}},computed:{_isTab:function(){return!0},tabClasses:function(){var t=this.localActive,e=this.disabled;return[{active:t,disabled:e,"card-body":this.bvTabs.card&&!this.noBody},t?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy}},watch:(Vt={},ae(Vt,se,(function(t,e){t!==e&&(t?this.activate():this.deactivate()||this.$emit(ie,this.localActive))})),ae(Vt,"disabled",(function(t,e){if(t!==e){var a=this.bvTabs.firstTab;t&&this.localActive&&a&&(this.localActive=!1,a())}})),ae(Vt,"localActive",(function(t){this.$emit(ie,t)})),Vt),mounted:function(){this.registerTab()},updated:function(){var t=this.bvTabs.updateButton;t&&this.hasNormalizedSlot(mt["L"])&&t(this)},beforeDestroy:function(){this.unregisterTab()},methods:{registerTab:function(){var t=this.bvTabs.registerTab;t&&t(this)},unregisterTab:function(){var t=this.bvTabs.unregisterTab;t&&t(this)},activate:function(){var t=this.bvTabs.activateTab;return!(!t||this.disabled)&&t(this)},deactivate:function(){var t=this.bvTabs.deactivateTab;return!(!t||!this.localActive)&&t(this)}},render:function(t){var e=this.localActive,a=t(this.tag,{staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",value:e}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":e?"false":"true","aria-labelledby":this.controlledBy||null},ref:"panel"},[e||!this.computedLazy?this.normalizeSlot():t()]);return t(Xt["a"],{props:{mode:"out-in",noFade:this.computedNoFade}},[a])}});c["default"].component("BTabs",Yt),c["default"].component("BTab",re);var oe={name:"UserDashboardHome",components:{MyAccount:_,MyJobsList:O,MyCompaniesList:E,MyPaymentsList:F,MyStarredJobs:K,MyJobAlerts:et,MyTrainingsList:ot},data(){return{query:{tab:0}}},watch:{"$route.query.tab":{handler(){this.query.tab=parseInt(this.$route.query.tab)||0},immediate:!0}},mounted(){},methods:{setQuery(t,e){this.query[t]=e,this.$router.push({query:{...this.$route.query,[t]:e}})}}},le=oe,ce=Object(m["a"])(le,s,i,!1,null,null,null);e["default"]=ce.exports},"3f00":function(t,e,a){},"3f5c":function(t,e,a){"use strict";a("3f00")},4628:function(t,e,a){},4874:function(t,e,a){"use strict";a("5371")},"4dae":function(t,e,a){},5371:function(t,e,a){},5806:function(t,e,a){"use strict";a("0700")},7067:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$config.starredJobs.active?a("span",{staticClass:"star text-secondary",style:"padding: "+t.padding+"; position: "+t.position,on:{click:function(e){return e.preventDefault(),t.toggleStar.apply(null,arguments)}}},[t.active?a("svg",{staticClass:"bi bi-star-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:15*t.size,height:15*t.size,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}})]):a("svg",{staticClass:"bi bi-star",attrs:{xmlns:"http://www.w3.org/2000/svg",width:15*t.size,height:15*t.size,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}})])]):t._e()},i=[],n={name:"StarJob",props:{jobId:{type:String,default:""},padding:{type:String,default:"8px"},position:{type:String,default:"absolute"},size:{type:Number,default:1}},data(){return{active:!1,modalVisible:!1}},watch:{"$store.state.starredJobs.starredJobs"(){this.checkStarredJobs()}},mounted(){this.checkStarredJobs()},methods:{checkStarredJobs(){this.$store.state.auth.loggedIn&&this.$store.state.starredJobs.starredJobs.some(t=>t.job===this.jobId)?this.active=!0:this.active=!1},async toggleStar(){this.$store.state.auth.loggedIn?this.active?(this.active=!1,await this.$store.dispatch("deleteStarredJob",this.jobId),this.$gtag.event("delete_starred_job",{event_label:this.jobId})):(this.active=!0,await this.$store.dispatch("addStarredJob",this.jobId),this.$gtag.event("add_starred_job",{event_label:this.jobId})):this.$store.commit("setStarJobModal",!0)}}},r=n,o=(a("af47"),a("2877")),l=Object(o["a"])(r,s,i,!1,null,"48ac9b66",null);e["a"]=l.exports},"986e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account-data-form position-relative mb-3"},[a("b-form",{attrs:{id:"account-data-form"}},[a("label",{attrs:{for:"user-gender"}},[t._v("Anrede")]),a("b-form-select",{attrs:{id:"user-gender",state:t.validated&&!!t.user.gender||null,disabled:t.disabled},model:{value:t.user.gender,callback:function(e){t.$set(t.user,"gender",e)},expression:"user.gender"}},[a("b-form-select-option",{attrs:{value:""}},[t._v("-- Anrede auswählen --")]),t._l(t.contactGenderOptions,(function(e){return a("b-form-select-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],2),a("label",{attrs:{for:"user-title"}},[t._v("Titel")]),a("b-form-select",{attrs:{id:"user-title",state:t.validated&&!!t.user.title||null,disabled:t.disabled},model:{value:t.user.title,callback:function(e){t.$set(t.user,"title",e)},expression:"user.title"}},[a("b-form-select-option",{attrs:{value:""}},[t._v("-- Titel auswählen --")]),t._l(t.contactTitleOptions,(function(e){return a("b-form-select-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}))],2),a("label",{attrs:{for:"first-name",required:""}},[t._v("Vorname")]),a("b-form-input",{attrs:{id:"first-name",type:"text",state:t.validated?!!t.user.firstName:null,placeholder:"Vorname eingeben...",required:"",disabled:t.disabled},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}}),a("label",{attrs:{for:"last-name",required:""}},[t._v("Nachname")]),a("b-form-input",{attrs:{id:"last-name",type:"text",state:t.validated?!!t.user.lastName:null,placeholder:"Nachname eingeben...",required:"",disabled:t.disabled},model:{value:t.user.lastName,callback:function(e){t.$set(t.user,"lastName",e)},expression:"user.lastName"}}),a("label",{attrs:{for:"email",required:""}},[t._v("E-Mail Adresse")]),a("b-form-input",{attrs:{id:"email",type:"email",state:t.validated?!!t.user.email:null,placeholder:"E-Mail Adresse eingeben...",required:"",disabled:t.disabled},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),a("label",{staticClass:"d-block",attrs:{for:"role"}},[t._v("Rolle")]),a("b-form-checkbox",{attrs:{id:"is-employer",value:!0,"unchecked-value":!1,disabled:t.disabled,inline:""},model:{value:t.user.isEmployer,callback:function(e){t.$set(t.user,"isEmployer",e)},expression:"user.isEmployer"}},[t._v(" Arbeitgeber ")]),a("b-form-checkbox",{attrs:{id:"is-employee",value:!0,"unchecked-value":!1,disabled:t.disabled,inline:""},model:{value:t.user.isEmployee,callback:function(e){t.$set(t.user,"isEmployee",e)},expression:"user.isEmployee"}},[t._v(" MFA / ZFA ")]),a("b-form-checkbox",{attrs:{id:"is-educational",value:!0,"unchecked-value":!1,disabled:t.disabled,inline:""},model:{value:t.user.isEducational,callback:function(e){t.$set(t.user,"isEducational",e)},expression:"user.isEducational"}},[t._v(" Fortbildungsanbieter ")]),a("div",{staticClass:"d-flex justify-content-between my-4"},[a("b-button",{attrs:{variant:t.disabled?"primary":"outline-danger",size:"sm"},on:{click:function(e){t.disabled=!t.disabled}}},[t.disabled?a("svg",{staticClass:"bi bi-pencil-square mr-2",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}}),a("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}})]):t._e(),t._v(" "+t._s(t.disabled?"Bearbeiten":"Abbrechen")+" ")]),t.disabled?t._e():a("b-button",{attrs:{variant:"success",size:"sm"},on:{click:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[t._v(" Speichern ")])],1)],1)],1)},i=[],n=a("1ba6"),r={name:"AccountDataForm",props:{apiUsersSchema:{type:String,default:"private"}},data(){return{user:{_id:"",gender:null,title:null,firstName:"",lastName:"",email:"",isEmployer:!1,isEmployee:!1,isEducational:!1},contactGenderOptions:n["d"],contactTitleOptions:n["e"],disabled:!0,validated:null}},computed:{userQuery:function(){return"admin"===this.apiUsersSchema?"adminUser":"me"}},created(){this.getUserData()},methods:{async getUserData(){try{this.$store.dispatch("setOverlay",!0);const t=await this.$axios.get("/graphql",{params:{query:`\n              query {\n                  ${this.userQuery} ${"admin"===this.apiUsersSchema?`(_id: "${this.$route.params.userId}")`:""}\n                {\n                  _id\n                  gender\n                  title\n                  firstName\n                  lastName\n                  email\n                  isEmployer\n                  isEmployee\n                  isEducational\n                }\n              }\n            `}});t.data.data[this.userQuery]&&(this.user=t.data.data[this.userQuery])}catch(t){}this.$store.dispatch("setOverlay",!1)},async onSubmit(){if(this.formValidation()){this.$store.dispatch("setOverlay",!0);try{const t="admin"===this.apiUsersSchema?"adminUpdateUser":"updateMe",e=await this.$axios.post("/graphql",{query:`\n              mutation {\n                  ${t} (\n                      ${"admin"===this.apiUsersSchema?`_id: "${this.user._id}",`:""}\n                      gender: "${this.user.gender}",\n                      title: "${this.user.title}",\n                      firstName: "${this.user.firstName}",\n                      lastName: "${this.user.lastName}",\n                      email: "${this.user.email.toLowerCase()}",\n                      isEmployer: ${this.user.isEmployer},\n                      isEmployee: ${this.user.isEmployee},\n                      isEducational: ${this.user.isEducational},\n                  ) {\n                      _id\n                      status\n                  }\n              }\n          `});if(!e.data.data[t])throw new Error("Beim Speichern ist ein Fehler aufgetreten.");this.disabled=!0,await this.$store.dispatch("fetchUserFromDb"),this.$root.$bvToast.toast("Ihre Daten wurden erfolgreich gespeichert.",{title:"Daten gespeichert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0}),"pending"!==e.data.data[t].status||this.$store.state.auth.user.isAdmin||(await this.$store.dispatch("fetchUserFromDb"),await this.$axios.get("/api/auth/verification/get-activation-email"),this.$root.$bvToast.toast("In den nächsten Minuten erhalten Sie eine E-Mail zur Verifizierung Ihrer E-Mail Adresse in Ihr Postfach. Bitte bestätigen Sie Ihre E-Mail Adresse über den dort enthaltenen Bestätigunglink.",{title:"E-Mail verifizieren",variant:"info",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}))}catch(t){this.$root.$bvToast.toast("Beim Speichern Ihrer Daten ist ein Fehler aufgetreten. Bitte versuchen Sie es noch einmal.",{title:"Fehler beim Speichern",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)}},formValidation(){return this.validated=!0,!!(this.user.firstName&&this.user.lastName&&this.user.email)}}},o=r,l=(a("4874"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"12590b8c",null);e["a"]=c.exports},af03:function(t,e,a){},af47:function(t,e,a){"use strict";a("4dae")},b3ef:function(t,e,a){"use strict";a("af03")},df75:function(t,e,a){"use strict";a("4628")},e7e6:function(t,e,a){"use strict";a("17e4")},f0fa:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.job?a("article",{staticClass:"jobcard"},[a("b-link",{attrs:{to:"/stellenangebote/job/"+t.job._id+"/"+t.job.slug,target:"_self"}},[a("div",{class:["card",t.compact?"mb-2 mt-2 mt-lg-0":"mb-3 mt-3 mt-lg-0"]},[a("div",{staticClass:"card-text"},[a("div",{class:["card-head position-relative",7===t.job.refreshFrequency?"bg-secondary":"bg-primary"]},[a("h2",{class:["h4",{"mobile-max-width-75":t.job.company.logoUrl&&!t.compact},{bold:7===t.job.refreshFrequency}],style:t.compact?"font-size:1rem; padding: 0.75rem; text-overflow: ellipsis; width: 95%; overflow: hidden; white-space: nowrap":"",domProps:{innerHTML:t._s(t.job.title)}}),a("StarJob",{attrs:{"job-id":t.job._id}}),t.job.company.logoUrl&&!t.compact?a("div",{staticClass:"img-container"},[a("b-img-lazy",{attrs:{fluid:"",src:t.job.company.logoUrl,alt:"Logo - "+t.job.company.name,height:"70","blank-width":"70","blank-height":"70",offset:"500"}})],1):t._e()],1),t.compact?t._e():a("div",{staticClass:"card-content"},[a("p",{staticClass:"mb-0",domProps:{innerHTML:t._s(t.job.description.replace(/<[^>]+>/g," ").substring(0,200)+"...")}})]),t.compact?t._e():a("hr"),a("div",{staticClass:"card-foot",style:t.compact?"font-size:0.85rem; padding: 0.7rem":""},[t.job.company.name?a("div",[a("div",{staticClass:"icon"},[a("svg",{staticClass:"bi bi-building",attrs:{xmlns:"http://www.w3.org/2000/svg",width:18+2*!t.compact,height:18+2*!t.compact,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022zM6 8.694 1 10.36V15h5V8.694zM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15z"}}),a("path",{attrs:{d:"M2 11h1v1H2v-1zm2 0h1v1H4v-1zm-2 2h1v1H2v-1zm2 0h1v1H4v-1zm4-4h1v1H8V9zm2 0h1v1h-1V9zm-2 2h1v1H8v-1zm2 0h1v1h-1v-1zm2-2h1v1h-1V9zm0 2h1v1h-1v-1zM8 7h1v1H8V7zm2 0h1v1h-1V7zm2 0h1v1h-1V7zM8 5h1v1H8V5zm2 0h1v1h-1V5zm2 0h1v1h-1V5zm0-2h1v1h-1V3z"}})])]),a("span",{domProps:{innerHTML:t._s(t.job.company.name)}})]):t._e(),t.job.company.location?a("div",[a("div",{staticClass:"icon"},[a("svg",{staticClass:"bi bi-geo-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:18+2*!t.compact,height:18+2*!t.compact,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"}})])]),t._v(" "+t._s(t.job.company.location)+" ")]):t._e(),t.job.employmentType?a("div",[a("div",{staticClass:"icon"},[a("svg",{staticClass:"bi bi-briefcase-fill",attrs:{xmlns:"http://www.w3.org/2000/svg",width:18+2*!t.compact,height:18+2*!t.compact,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"}}),a("path",{attrs:{d:"M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"}})])]),t._v(" "+t._s(t.employmentTypeOptions.find((function(e){return e.value===t.job.employmentType})).text)+" ")]):t._e(),t.compact||!t.job.salaryMin&&!t.job.salaryMax?t._e():a("div",[a("div",{staticClass:"icon"},[a("svg",{staticClass:"bi bi-currency-euro",attrs:{xmlns:"http://www.w3.org/2000/svg",width:18+2*!t.compact,height:18+2*!t.compact,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M4 9.42h1.063C5.4 12.323 7.317 14 10.34 14c.622 0 1.167-.068 1.659-.185v-1.3c-.484.119-1.045.17-1.659.17-2.1 0-3.455-1.198-3.775-3.264h4.017v-.928H6.497v-.936c0-.11 0-.219.008-.329h4.078v-.927H6.618c.388-1.898 1.719-2.985 3.723-2.985.614 0 1.175.05 1.659.177V2.194A6.617 6.617 0 0 0 10.341 2c-2.928 0-4.82 1.569-5.244 4.3H4v.928h1.01v1.265H4v.928z"}})])]),t._v(" "+t._s(t.job.salaryMax?t.job.salaryMin?parseInt(t.job.salaryMin).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" -":"bis":"ab "+parseInt(t.job.salaryMin).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+"€")+" "+t._s(t.job.salaryMax?parseInt(t.job.salaryMax).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+"€":"")+" ")]),!t.compact&&t.job.specialization&&"null"!=t.job.specialization?a("div",[a("div",{staticClass:"icon"},[a("svg",{staticClass:"bi bi-activity",attrs:{xmlns:"http://www.w3.org/2000/svg",width:18+2*!t.compact,height:18+2*!t.compact,fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"}})])]),t._v(" "+t._s(t.job.specialization)+" ")]):t._e(),t.job.simpleApplication?a("div",[a("div",{staticClass:"badge badge-pill badge-secondary"},[t._v(" # Einfach bewerben ")])]):t._e()])])])])],1):t._e()},i=[],n=a("1ba6"),r=a("7067"),o={name:"JobCard",components:{StarJob:r["a"]},props:{job:{type:Object,default:()=>{}},compact:{type:Boolean,default:!1}},data(){return{employmentTypeOptions:n["f"],companySizeOptions:n["b"]}}},l=o,c=(a("5806"),a("2877")),d=Object(c["a"])(l,s,i,!1,null,"37d6a648",null);e["a"]=d.exports}}]);
//# sourceMappingURL=user.575d45b3.js.map