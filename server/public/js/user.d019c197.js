(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"0d3b":function(e,t,n){var r=n("d039"),a=n("b622"),s=n("c430"),i=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"23b3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"dashboard py-5"},[n("h2",[e._v("Mein Konto")]),n("b-tabs",{attrs:{"content-class":"mt-3",value:parseInt(e.query.tab),lazy:""}},[n("b-tab",{attrs:{title:"Account"},on:{click:function(t){return e.setQuery("tab",0)}}},[n("MyAccount")],1),e.$store.state.auth.user.isEmployer?n("b-tab",{attrs:{title:"Stellenanzeigen"},on:{click:function(t){return e.setQuery("tab",1)}}},[n("MyJobsList")],1):e._e(),e.$store.state.auth.user.isEmployer?n("b-tab",{attrs:{title:"Unternehmen"},on:{click:function(t){return e.setQuery("tab",2)}}},[n("MyCompaniesList")],1):e._e(),e.$store.state.auth.user.isEmployer?n("b-tab",{attrs:{title:"Zahlungen"},on:{click:function(t){return e.setQuery("tab",3)}}},[n("MyPaymentsList")],1):e._e(),e.$store.state.auth.user.isAdmin||e.$store.state.auth.user.isEmployee||e.$store.state.starredJobs.starredJobs.length>0?n("b-tab",{attrs:{title:"Meine gespeicherten Stellenanzeigen"},on:{click:function(t){return e.setQuery("tab",4)}}},[n("MyStarredJobs")],1):e._e()],1),n("Head",{attrs:{title:"Dashboard",desc:"",img:""}})],1)},a=[],s=n("fc11"),i=n("f3f3"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Mein Account")]),n("p",[e._v(" Hier können Sie Ihre Account-Daten ändern bzw. Ihren Account löschen. ")]),n("AccountDataForm",{attrs:{apiUsersSchema:"private"}}),n("DeleteAccountButton")],1)},c=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-account",modifiers:{"delete-account":!0}}],attrs:{variant:"danger",size:"sm",type:"submit"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"trash-alt"}}),e._v("Account löschen")],1),n("b-modal",{attrs:{id:"delete-account",title:"Account löschen","ok-title":"Jetzt löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:e.deleteAccount}},[n("p",{staticClass:"my-4"},[e._v(" Bist Du sicher, dass Du Deinen Account löschen möchtest? ")]),n("b-form",[n("label",{attrs:{for:"password"}},[e._v("Passwort")]),n("b-input-group",[n("b-form-input",{attrs:{type:e.passwordType,id:"password",placeholder:"Passwort eingeben...",autocomplete:"current-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("b-input-group-append",{attrs:{"is-text":""}},[n("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash","font-scale":"1.2"},on:{click:e.togglePasswordType}})],1)],1),n("div",{staticClass:"error mt-3"},e._l(e.errors,(function(t){return n("b-alert",{key:t.message,attrs:{show:"",dismissible:"",variant:"warning"}},[e._v(e._s(t.message))])})),1)],1)],1)],1)},u=[],d=(n("96cf"),n("c964")),h={name:"DeleteAccountButton",data:function(){return{password:"",passwordType:"password",errors:null}},methods:{deleteAccount:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.preventDefault(),t.$store.dispatch("setOverlay",!0),t.errors=null,n.next=5,t.$axios.post("/graphql",{query:'\n                    mutation {\n                        deleteMe (password: "'.concat(t.password,'") {\n                            _id\n                        }\n                    }\n                ')});case 5:r=n.sent,r.data.errors?t.errors=r.data.errors:(t.$gtag.event("delete_account",{event_label:t.$store.state.auth.user._id}),t.$matomo&&t.$matomo.trackEvent("engagement","delete_account",t.$store.state.auth.user._id),t.$store.dispatch("logout")),t.$store.dispatch("setOverlay",!1);case 8:case"end":return n.stop()}}),n)})))()},togglePasswordType:function(){"text"===this.passwordType?this.passwordType="password":this.passwordType="text"}}},p=h,m=(n("c69d"),n("2877")),b=Object(m["a"])(p,l,u,!1,null,"608f1edc",null),f=b.exports,g=n("986e"),v={name:"MyAccount",components:{DeleteAccountButton:f,AccountDataForm:g["a"]}},y=v,k=Object(m["a"])(y,o,c,!1,null,null,null),_=k.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Meine Stellenanzeigen")]),n("p",[e._v(" Hier können Sie Stellenanzeigen erstellen, bearbeiten, veröffentlichen oder löschen. ")]),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/"+(e.$store.state.auth.user.isAdmin?"admin":"user/dashboard")+"/jobs/edit/new",variant:"primary"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"plus"}}),e._v("Neue Stelle")],1),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/blog/article/8-tipps-fuer-attraktive-stellenanzeigen-fuer-mfas",variant:"secondary",target:"_blank"}},[e._v("Tipps für Stellenanzeigen")]),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-primary",target:"_blank"}},[e._v("Fragen oder Hilfe benötigt?")]),e._l(e.myJobs,(function(t){return n("b-card",{key:t._id,staticClass:"my-3"},[n("b-card-text",[n("h4",[e._v(" "+e._s(t.title)+" ")]),n("div",[t.paidExpiresAt>=new Date&&t.paid?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"success\n                    "}},[e._v("bezahlt")]):e._e(),t.paid?e._e():n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"warning"}},[e._v("unbezahlt")]),"published"===t.status&&t.paidExpiresAt>=new Date&&t.applicationDeadline>=(new Date).setHours(24)&&t.paid?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"success"}},[e._v("online")]):e._e(),"draft"===t.status?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"light"}},[e._v("Entwurf")]):e._e(),"unpublished"===t.status?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"danger"}},[e._v("offline")]):e._e(),t.applicationDeadline<(new Date).setHours(24)?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"danger"}},[e._v("Bewerbungsfrist abgelaufen")]):e._e()],1),n("div",{staticClass:"my-3"},[n("div",[e._v(" Erstellt: "),n("span",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(parseInt(t.createdAt)).toLocaleString())+" ")])]),n("div",[e._v(" Bewerbungsfrist: "),n("span",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(new Date(t.applicationDeadline).valueOf()+828e5-1).toLocaleString())+" ")])]),t.publishedAt&&t.paidExpiresAt>=new Date?n("div",[e._v(" Zuletzt veröffentlicht: "),n("span",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(parseInt(t.publishedAt)).toLocaleString())+" ")])]):e._e(),t.paidExpiresAt>=new Date&&t.payment&&"paid"===t.payment.status?n("div",[e._v(" Bezahlt: "),n("span",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(parseInt(t.payment.paidAt)).toLocaleString())+" ")])]):e._e(),t.paidExpiresAt>=new Date&&"invoice-pending"!=t.status?n("div",[e._v(" Zahlung für Anzeige läuft ab: "),n("span",{staticClass:"text-muted"},[e._v(" "+e._s(new Date(parseInt(t.paidExpiresAt)).toLocaleString())+" ")])]):e._e()]),n("div",{staticClass:"d-flex justify-content-between align-items-end"},[n("div",[n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/jobs/edit/"+t._id,variant:"primary",size:"sm"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"edit"}}),e._v(" Bearbeiten")],1),n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/jobs/preview/"+t._id,target:"_blank",variant:"info",size:"sm"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"eye"}}),e._v(" Vorschau")],1),t.paid&&t.paidExpiresAt>=new Date?n("b-dropdown",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{size:"sm",left:"",variant:"secondary"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("Fa",{staticClass:"mr-2",attrs:{icon:"ellipsis-v"}}),e._v(" Status ändern ")]},proxy:!0}],null,!0)},[n("b-dropdown-item",{attrs:{variant:""},on:{click:function(n){return n.preventDefault(),e.updateJobStatus(t._id,"draft")}}},[e._v("Entwurf")]),n("b-dropdown-item",{attrs:{variant:"success"},on:{click:function(n){return n.preventDefault(),e.updateJobStatus(t._id,"published")}}},[e._v("Online")]),n("b-dropdown-item",{staticClass:"mb-0",attrs:{variant:"danger"},on:{click:function(n){return n.preventDefault(),e.updateJobStatus(t._id,"unpublished")}}},[e._v("Offline")])],1):e._e(),t.paidExpiresAt<new Date&&!t.payment?n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{variant:"success",size:"sm",to:"/user/dashboard/checkout/"+t._id}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"shopping-cart"}}),e._v("Jetzt bezahlen")],1):e._e(),"invoice-pending"===t.status||t.payment&&"pending"===t.payment.status?n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{disabled:!0,variant:"light",size:"sm"}},[e._v("Rechnung in Bearbeitung")]):e._e()],1),n("div",[n("b-button",{staticClass:"mb-2 mb-md-0",attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return n.preventDefault(),e.$bvModal.show(t._id)}}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"trash-alt"}}),e._v(" Löschen")],1)],1)])]),n("b-modal",{attrs:{id:t._id,title:"Delete "+t.title,"ok-title":"Stellenanzeige löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:function(n){return e.deleteJob(t._id)}}},[n("p",{staticClass:"my-4"},[e._v(" Bist Du sicher, dass Du diese Stellenanzeige löschen möchtest? ")])])],1)}))],2)},A=[],S=(n("99af"),n("4160"),n("a434"),n("159b"),{name:"MyJobsList",data:function(){return{myJobs:[]}},created:function(){this.getJobsByUserId()},mounted:function(){this.checkPaymentSuccess(this.$route.query)},methods:{getJobsByUserId:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setOverlay",!0),t.prev=1,t.next=4,e.$axios.get("/graphql",{params:{query:"\n                            query {\n                                myJobs {\n                                    _id\n                                    createdAt\n                                    updatedAt\n                                    publishedAt\n                                    status\n                                    paid\n                                    paidExpiresAt\n                                    applicationDeadline\n                                    title\n                                    company {\n                                        name\n                                        street\n                                        zipCode\n                                        location\n                                        state\n                                        size\n                                    }\n                                    payment {\n                                        status\n                                        paidAt\n                                        paymentExpiresAt\n                                    }\n                                }\n                            }\n                        "}});case 4:n=t.sent,e.myJobs=n.data.data.myJobs,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$root.$bvToast.toast("Ihre Stellenanzeigen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 11:e.$store.dispatch("setOverlay",!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},updateJobStatus:function(e,t){var n=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.$axios.post("/graphql",{query:'\n                            mutation {\n                                updateJob(_id: "'.concat(e,'", status: "').concat(t,'") {\n                                    _id\n                                    createdAt\n                                    updatedAt\n                                    publishedAt\n                                    status\n                                    paid\n                                    paidExpiresAt\n                                    applicationDeadline\n                                    title\n                                    company {\n                                        name\n                                        street\n                                        zipCode\n                                        location\n                                        state\n                                        size\n                                    }\n                                    payment {\n                                        status\n                                        paidAt\n                                        paymentExpiresAt\n                                    }\n                                }\n                            }\n                        ')});case 3:a=r.sent,a.data.data.updateJob.status===t?(n.myJobs.forEach((function(r,s){r._id===e&&(n.myJobs[s].status=t,n.myJobs[s].updatedAt=a.data.data.updateJob.updatedAt)})),n.$root.$bvToast.toast("Der Status der Stellenanzeige wurde erfolgreich aktualisiert.",{title:"Status aktualisiert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):n.$root.$bvToast.toast("Der Status der Stellenanzeige konnte nicht aktualisiert werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Aktualisieren",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),n.$root.$bvToast.toast("Der Status der Stellenanzeige konnte nicht aktualisiert werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Aktualisieren",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 10:case"end":return r.stop()}}),r,null,[[0,7]])})))()},deleteJob:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.post("/graphql",{query:'\n                        mutation {\n                            deleteJob(_id: "'.concat(e,'") {\n                                _id\n                                status\n                            }\n                        }\n                    ')});case 3:r=n.sent,"deleted"===r.data.data.deleteJob.status?(t.myJobs.forEach((function(n,r){n._id===e&&t.myJobs.splice(r,1)})),t.$root.$bvToast.toast("Die Stellenanzeige wurde erfolgreich gelöscht.",{title:"Stellenanzeige gelöscht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):t.$root.$bvToast.toast("Die Stellenanzeige konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.$root.$bvToast.toast("Die Stellenanzeige konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},checkPaymentSuccess:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:"true"===e.success?t.$root.$bvToast.toast("Der Zahlungsvorgang wurde erfolgreich abgeschlossen. Ihre Anzeige ist ab sofort auf unserer Stellenbörse verfügbar. Einen Beleg für Ihre Zahlung erhalten Sie auf Ihre angegebene E-Mail Adresse.",{title:"Zahlung erfolgreich",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}):"false"===e.success&&t.$root.$bvToast.toast("Ihre Zahlung konnte leider nicht verarbeitet werden. Bitte versuchen Sie es noch einmal oder kontaktieren Sie uns über unsere Kontaktdaten.",{title:"Zahlung fehlgeschlagen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 1:case"end":return n.stop()}}),n)})))()}}}),x=S,C=(n("8b74"),Object(m["a"])(x,w,A,!1,null,"25928f32",null)),$=C.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Meine Unternehmen")]),n("p",[e._v(" Hier können Sie Ihre erstellten Unternehmen bearbeiten, löschen bzw. neue Unternehmen erstellen. ")]),n("p",[e._v(' Sie können das selbe Unternehmen mit unterschiedlichen Standorten erstellen und diese gegebenenfalls für Ihre verschiedenen Stellenanzeigen nutzen. Ein Unternehmen können Sie auch direkt während des Erstellens einer Stellenanzeige im Reiter "Stellenanzeigen" einrichten. Bearbeiten Sie hier einzelne Unternehmen, wirkt sich dies direkt auf die verknüpften Stellenanzeigen aus. ')]),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/user/dashboard/companies/edit/new",variant:"outline-primary"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"plus"}}),e._v("Neues Unternehmen")],1),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-secondary",target:"_blank"}},[e._v("Fragen oder Hilfe benötigt?")]),e._l(e.myCompanies,(function(t){return n("b-card",{key:t._id,staticClass:"my-3"},[n("b-card-text",[n("h4",[e._v(e._s(t.name)+" | "+e._s(t.location))]),n("div",{staticClass:"my-3"},[n("div",[e._v(" Erstellt: "+e._s(new Date(parseInt(t.createdAt)).toLocaleString())+" ")])]),n("div",{staticClass:"d-flex justify-content-between align-items-end"},[n("div",[n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{to:"/user/dashboard/companies/edit/"+t._id,variant:"primary",size:"sm"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"edit"}}),e._v(" Bearbeiten")],1)],1),n("div",[n("b-button",{attrs:{variant:"outline-danger",size:"sm"},on:{click:function(n){return n.preventDefault(),e.$bvModal.show(t._id)}}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"trash-alt"}}),e._v(" Löschen")],1)],1)])]),n("b-modal",{attrs:{id:t._id,title:"Delete "+t.name,"ok-title":"Unternehmen löschen","cancel-title":"Abbrechen",centered:"","ok-variant":"danger","footer-class":"d-flex justify-content-between"},on:{ok:function(n){return e.deleteCompany(t._id)}}},[n("p",{staticClass:"my-4"},[e._v(" Bist Du sicher, dass Du das Unternehmen löschen möchtest? ")])])],1)}))],2)},z=[],j={name:"MyCompaniesList",data:function(){return{myCompanies:[]}},created:function(){this.getCompaniesByUserId()},methods:{getCompaniesByUserId:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setOverlay",!0),t.prev=1,t.next=4,e.$axios.get("/graphql",{params:{query:"\n                            query {\n                                myCompanies {\n                                    _id\n                                    createdAt\n                                    updatedAt\n                                    name\n                                    location\n                                }\n                            }\n                        "}});case 4:n=t.sent,e.myCompanies=n.data.data.myCompanies,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$root.$bvToast.toast("Ihre Unternehmen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 11:e.$store.dispatch("setOverlay",!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},deleteCompany:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$axios.post("/graphql",{query:'\n                            mutation {\n                                deleteCompany(_id: "'.concat(e,'") {\n                                    _id\n                                }\n                            }\n                        ')});case 3:r=n.sent,r.data.data.deleteCompany._id?(t.myCompanies.forEach((function(n,r){n._id===e&&t.myCompanies.splice(r,1)})),t.$root.$bvToast.toast("Das Unternehmen wurde erfolgreich gelöscht.",{title:"Unternehmen gelöscht",variant:"success",toaster:"b-toaster-bottom-right",solid:!0})):t.$root.$bvToast.toast("Das Unternehmen konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),t.$root.$bvToast.toast("Das Unternehmen konnte nicht gelöscht werden. Bitte versuchen Sie es später noch einmal.",{title:"Fehler beim Löschen",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}},L=j,D=Object(m["a"])(L,R,z,!1,null,null,null),E=D.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Meine Zahlungen")]),n("p",[e._v(" Hier können Sie Ihre getätigten/ausstehenden Zahlungen bzw. Rechnungen einsehen. ")]),n("b-button",{staticClass:"mr-2 mb-2",attrs:{to:"/kontakt",variant:"outline-primary",target:"_blank"}},[e._v("Fragen oder Hilfe benötigt?")]),e.myPayments.length>0?n("div",e._l(e.myPayments,(function(t){return n("b-card",{key:t._id,staticClass:"my-3"},[n("b-card-text",[n("h4",[e._v(" "+e._s(t.job.title)+" | "+e._s(t.job.company.name)+" ")]),n("div",["paid"===t.status?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"success\n                    "}},[e._v("bezahlt")]):e._e(),"pending"===t.status?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"warning\n                    "}},[e._v("ausstehend")]):e._e(),"cancelled"===t.status?n("b-badge",{staticClass:"mr-1",attrs:{pill:"",variant:"danger\n                    "}},[e._v("verworfen")]):e._e()],1),n("div",{staticClass:"my-3"},[n("div",[e._v(" Rechnungsdatum: "+e._s(new Date(parseInt(t.invoiceDate||t.createdAt)).toLocaleDateString("de-DE"))+" ")]),t.paidAt?n("div",[e._v(" Zahlung eingegangen am: "+e._s(new Date(parseInt(t.paidAt)).toLocaleDateString("de-DE"))+" ")]):e._e(),t.paymentExpiresAt&&"paid"===t.status?n("div",[e._v(" Zahlung läuft ab am: "+e._s(new Date(parseInt(t.paymentExpiresAt)).toLocaleDateString("de-DE"))+" ")]):e._e()]),n("div",{staticClass:"d-flex justify-content-start align-items-end"},[n("div",[n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{href:"/api/invoice/download/"+t._id,target:"_blank",variant:"secondary",size:"sm"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"download"}}),e._v(" Rechnung herunterladen")],1)],1),n("div",[t.receiptUrl?n("b-button",{staticClass:"mr-2 mb-2 mb-md-0",attrs:{href:""+t.receiptUrl,target:"_blank",variant:"info",size:"sm"}},[n("Fa",{staticClass:"mr-2",attrs:{icon:"external-link-alt"}}),e._v("Zahlungsbeleg abrufen")],1):e._e()],1)])])],1)})),1):e._e()],1)},U=[],q={name:"MyPaymentsList",data:function(){return{myPayments:[]}},created:function(){this.getPaymentsByUserId()},methods:{getPaymentsByUserId:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setOverlay",!0),t.prev=1,t.next=4,e.$axios.get("/graphql",{params:{query:"\n                            query {\n                                myPayments {\n                                    _id\n                                    createdAt\n                                    updatedAt\n                                    paidAt\n                                    paymentExpiresAt\n                                    invoiceNo\n                                    invoiceDate\n                                    amount\n                                    status\n                                    receiptUrl\n                                    job {\n                                        title\n                                        company {\n                                            name\n                                        }\n                                    }\n                                }\n                            }\n                        "}});case 4:n=t.sent,e.myPayments=n.data.data.myPayments,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),e.$root.$bvToast.toast("Ihre Zahlungen konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 11:e.$store.dispatch("setOverlay",!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()}}},B=q,F=(n("54d8"),Object(m["a"])(B,I,U,!1,null,"4ec2c391",null)),O=F.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.$store.state.starredJobs.starredJobs,(function(e){return n("JobCard",{key:e._id,attrs:{job:e.job}})})),0===e.$store.state.starredJobs.starredJobs.length?n("h5",{staticClass:"my-5"},[e._v(" Du hast bisher keine Stellenanzeigen gespeichert. ")]):e._e()],2)},P=[],J=n("f0fa"),T={name:"MyStarredJobs",components:{JobCard:J["a"]}},H=T,N=Object(m["a"])(H,M,P,!1,null,null,null),Z=N.exports,V={name:"UserDashboardHome",components:{MyAccount:_,MyJobsList:$,MyCompaniesList:E,MyPaymentsList:O,MyStarredJobs:Z},data:function(){return{query:{tab:0}}},mounted:function(){this.query.tab=this.$route.query.tab},watch:{"$route.query.tab":function(){this.query.tab=this.$route.query.tab||0}},methods:{setQuery:function(e,t){this.query[e]=t,this.$router.push({query:Object(i["a"])(Object(i["a"])({},this.$route.query),{},Object(s["a"])({},e,t))})}}},W=V,G=Object(m["a"])(W,r,a,!1,null,null,null);t["default"]=G.exports},"278d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"jobpage py-5"},[n("Job",{attrs:{apiJobsSchema:"private"}})],1)},a=[],s=n("890f"),i={name:"UserDashboardJobPreview",components:{Job:s["a"]}},o=i,c=n("2877"),l=Object(c["a"])(o,r,a,!1,null,null,null);t["default"]=l.exports},"2b3d":function(e,t,n){"use strict";n("3ca3");var r,a=n("23e7"),s=n("83ab"),i=n("0d3b"),o=n("da84"),c=n("37e8"),l=n("6eeb"),u=n("19aa"),d=n("5135"),h=n("60da"),p=n("4df4"),m=n("6547").codeAt,b=n("5fb2"),f=n("d44e"),g=n("9861"),v=n("69f3"),y=o.URL,k=g.URLSearchParams,_=g.getState,w=v.set,A=v.getterFor("URL"),S=Math.floor,x=Math.pow,C="Invalid authority",$="Invalid scheme",R="Invalid host",z="Invalid port",j=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,D=/\d/,E=/^(0x|0X)/,I=/^[0-7]+$/,U=/^\d+$/,q=/^[\dA-Fa-f]+$/,B=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,O=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,P=function(e,t){var n,r,a;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return R;if(n=T(t.slice(1,-1)),!n)return R;e.host=n}else if(Y(e)){if(t=b(t),B.test(t))return R;if(n=J(t),null===n)return R;e.host=n}else{if(F.test(t))return R;for(n="",r=p(t),a=0;a<r.length;a++)n+=K(r[a],Z);e.host=n}},J=function(e){var t,n,r,a,s,i,o,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),t=c.length,t>4)return e;for(n=[],r=0;r<t;r++){if(a=c[r],""==a)return e;if(s=10,a.length>1&&"0"==a.charAt(0)&&(s=E.test(a)?16:8,a=a.slice(8==s?1:2)),""===a)i=0;else{if(!(10==s?U:8==s?I:q).test(a))return e;i=parseInt(a,s)}n.push(i)}for(r=0;r<t;r++)if(i=n[r],r==t-1){if(i>=x(256,5-t))return null}else if(i>255)return null;for(o=n.pop(),r=0;r<n.length;r++)o+=n[r]*x(256,3-r);return o},T=function(e){var t,n,r,a,s,i,o,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,l++,u=l}while(h()){if(8==l)return;if(":"!=h()){t=n=0;while(n<4&&q.test(h()))t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,l>6)return;r=0;while(h()){if(a=null,r>0){if(!("."==h()&&r<4))return;d++}if(!D.test(h()))return;while(D.test(h())){if(s=parseInt(h(),10),null===a)a=s;else{if(0==a)return;a=10*a+s}if(a>255)return;d++}c[l]=256*c[l]+a,r++,2!=r&&4!=r||l++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,l++,u=l}}if(null!==u){i=l-u,l=7;while(0!=l&&i>0)o=c[l],c[l--]=c[u+i-1],c[u+--i]=o}else if(8!=l)return;return c},H=function(e){for(var t=null,n=1,r=null,a=0,s=0;s<8;s++)0!==e[s]?(a>n&&(t=r,n=a),r=null,a=0):(null===r&&(r=s),++a);return a>n&&(t=r,n=a),t},N=function(e){var t,n,r,a;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=S(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=H(e),n=0;n<8;n++)a&&0===e[n]||(a&&(a=!1),r===n?(t+=n?":":"::",a=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Z={},V=h({},Z,{" ":1,'"':1,"<":1,">":1,"`":1}),W=h({},V,{"#":1,"?":1,"{":1,"}":1}),G=h({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),K=function(e,t){var n=m(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(Q,e.scheme)},X=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&j.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},re=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ie={},oe={},ce={},le={},ue={},de={},he={},pe={},me={},be={},fe={},ge={},ve={},ye={},ke={},_e={},we={},Ae={},Se={},xe={},Ce={},$e=function(e,t,n,a){var s,i,o,c,l=n||ie,u=0,h="",m=!1,b=!1,f=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(O,"")),t=t.replace(M,""),s=p(t);while(u<=s.length){switch(i=s[u],l){case ie:if(!i||!j.test(i)){if(n)return $;l=ce;continue}h+=i.toLowerCase(),l=oe;break;case oe:if(i&&(L.test(i)||"+"==i||"-"==i||"."==i))h+=i.toLowerCase();else{if(":"!=i){if(n)return $;h="",l=ce,u=0;continue}if(n&&(Y(e)!=d(Q,h)||"file"==h&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Y(e)&&Q[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=ye:Y(e)&&a&&a.scheme==e.scheme?l=le:Y(e)?l=pe:"/"==s[u+1]?(l=ue,u++):(e.cannotBeABaseURL=!0,e.path.push(""),l=Se)}break;case ce:if(!a||a.cannotBeABaseURL&&"#"!=i)return $;if(a.cannotBeABaseURL&&"#"==i){e.scheme=a.scheme,e.path=a.path.slice(),e.query=a.query,e.fragment="",e.cannotBeABaseURL=!0,l=Ce;break}l="file"==a.scheme?ye:de;continue;case le:if("/"!=i||"/"!=s[u+1]){l=de;continue}l=me,u++;break;case ue:if("/"==i){l=be;break}l=Ae;continue;case de:if(e.scheme=a.scheme,i==r)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query;else if("/"==i||"\\"==i&&Y(e))l=he;else if("?"==i)e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query="",l=xe;else{if("#"!=i){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.path.pop(),l=Ae;continue}e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Ce}break;case he:if(!Y(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=a.username,e.password=a.password,e.host=a.host,e.port=a.port,l=Ae;continue}l=be}else l=me;break;case pe:if(l=me,"/"!=i||"/"!=h.charAt(u+1))continue;u++;break;case me:if("/"!=i&&"\\"!=i){l=be;continue}break;case be:if("@"==i){m&&(h="%40"+h),m=!0,o=p(h);for(var g=0;g<o.length;g++){var v=o[g];if(":"!=v||f){var y=K(v,G);f?e.password+=y:e.username+=y}else f=!0}h=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Y(e)){if(m&&""==h)return C;u-=p(h).length+1,h="",l=fe}else h+=i;break;case fe:case ge:if(n&&"file"==e.scheme){l=_e;continue}if(":"!=i||b){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Y(e)){if(Y(e)&&""==h)return R;if(n&&""==h&&(X(e)||null!==e.port))return;if(c=P(e,h),c)return c;if(h="",l=we,n)return;continue}"["==i?b=!0:"]"==i&&(b=!1),h+=i}else{if(""==h)return R;if(c=P(e,h),c)return c;if(h="",l=ve,n==ge)return}break;case ve:if(!D.test(i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&Y(e)||n){if(""!=h){var k=parseInt(h,10);if(k>65535)return z;e.port=Y(e)&&k===Q[e.scheme]?null:k,h=""}if(n)return;l=we;continue}return z}h+=i;break;case ye:if(e.scheme="file","/"==i||"\\"==i)l=ke;else{if(!a||"file"!=a.scheme){l=Ae;continue}if(i==r)e.host=a.host,e.path=a.path.slice(),e.query=a.query;else if("?"==i)e.host=a.host,e.path=a.path.slice(),e.query="",l=xe;else{if("#"!=i){ne(s.slice(u).join(""))||(e.host=a.host,e.path=a.path.slice(),re(e)),l=Ae;continue}e.host=a.host,e.path=a.path.slice(),e.query=a.query,e.fragment="",l=Ce}}break;case ke:if("/"==i||"\\"==i){l=_e;break}a&&"file"==a.scheme&&!ne(s.slice(u).join(""))&&(te(a.path[0],!0)?e.path.push(a.path[0]):e.host=a.host),l=Ae;continue;case _e:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&te(h))l=Ae;else if(""==h){if(e.host="",n)return;l=we}else{if(c=P(e,h),c)return c;if("localhost"==e.host&&(e.host=""),n)return;h="",l=we}continue}h+=i;break;case we:if(Y(e)){if(l=Ae,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=r&&(l=Ae,"/"!=i))continue}else e.fragment="",l=Ce;else e.query="",l=xe;break;case Ae:if(i==r||"/"==i||"\\"==i&&Y(e)||!n&&("?"==i||"#"==i)){if(se(h)?(re(e),"/"==i||"\\"==i&&Y(e)||e.path.push("")):ae(h)?"/"==i||"\\"==i&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(i==r||"?"==i||"#"==i))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==i?(e.query="",l=xe):"#"==i&&(e.fragment="",l=Ce)}else h+=K(i,W);break;case Se:"?"==i?(e.query="",l=xe):"#"==i?(e.fragment="",l=Ce):i!=r&&(e.path[0]+=K(i,Z));break;case xe:n||"#"!=i?i!=r&&("'"==i&&Y(e)?e.query+="%27":e.query+="#"==i?"%23":K(i,Z)):(e.fragment="",l=Ce);break;case Ce:i!=r&&(e.fragment+=K(i,V));break}u++}},Re=function(e){var t,n,r=u(this,Re,"URL"),a=arguments.length>1?arguments[1]:void 0,i=String(e),o=w(r,{type:"URL"});if(void 0!==a)if(a instanceof Re)t=A(a);else if(n=$e(t={},String(a)),n)throw TypeError(n);if(n=$e(o,i,null,t),n)throw TypeError(n);var c=o.searchParams=new k,l=_(c);l.updateSearchParams(o.query),l.updateURL=function(){o.query=String(c)||null},s||(r.href=je.call(r),r.origin=Le.call(r),r.protocol=De.call(r),r.username=Ee.call(r),r.password=Ie.call(r),r.host=Ue.call(r),r.hostname=qe.call(r),r.port=Be.call(r),r.pathname=Fe.call(r),r.search=Oe.call(r),r.searchParams=Me.call(r),r.hash=Pe.call(r))},ze=Re.prototype,je=function(){var e=A(this),t=e.scheme,n=e.username,r=e.password,a=e.host,s=e.port,i=e.path,o=e.query,c=e.fragment,l=t+":";return null!==a?(l+="//",X(e)&&(l+=n+(r?":"+r:"")+"@"),l+=N(a),null!==s&&(l+=":"+s)):"file"==t&&(l+="//"),l+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==o&&(l+="?"+o),null!==c&&(l+="#"+c),l},Le=function(){var e=A(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&Y(e)?t+"://"+N(e.host)+(null!==n?":"+n:""):"null"},De=function(){return A(this).scheme+":"},Ee=function(){return A(this).username},Ie=function(){return A(this).password},Ue=function(){var e=A(this),t=e.host,n=e.port;return null===t?"":null===n?N(t):N(t)+":"+n},qe=function(){var e=A(this).host;return null===e?"":N(e)},Be=function(){var e=A(this).port;return null===e?"":String(e)},Fe=function(){var e=A(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Oe=function(){var e=A(this).query;return e?"?"+e:""},Me=function(){return A(this).searchParams},Pe=function(){var e=A(this).fragment;return e?"#"+e:""},Je=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&c(ze,{href:Je(je,(function(e){var t=A(this),n=String(e),r=$e(t,n);if(r)throw TypeError(r);_(t.searchParams).updateSearchParams(t.query)})),origin:Je(Le),protocol:Je(De,(function(e){var t=A(this);$e(t,String(e)+":",ie)})),username:Je(Ee,(function(e){var t=A(this),n=p(String(e));if(!ee(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=K(n[r],G)}})),password:Je(Ie,(function(e){var t=A(this),n=p(String(e));if(!ee(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=K(n[r],G)}})),host:Je(Ue,(function(e){var t=A(this);t.cannotBeABaseURL||$e(t,String(e),fe)})),hostname:Je(qe,(function(e){var t=A(this);t.cannotBeABaseURL||$e(t,String(e),ge)})),port:Je(Be,(function(e){var t=A(this);ee(t)||(e=String(e),""==e?t.port=null:$e(t,e,ve))})),pathname:Je(Fe,(function(e){var t=A(this);t.cannotBeABaseURL||(t.path=[],$e(t,e+"",we))})),search:Je(Oe,(function(e){var t=A(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",$e(t,e,xe)),_(t.searchParams).updateSearchParams(t.query)})),searchParams:Je(Me),hash:Je(Pe,(function(e){var t=A(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",$e(t,e,Ce)):t.fragment=null}))}),l(ze,"toJSON",(function(){return je.call(this)}),{enumerable:!0}),l(ze,"toString",(function(){return je.call(this)}),{enumerable:!0}),y){var Te=y.createObjectURL,He=y.revokeObjectURL;Te&&l(Re,"createObjectURL",(function(e){return Te.apply(y,arguments)})),He&&l(Re,"revokeObjectURL",(function(e){return He.apply(y,arguments)}))}f(Re,"URL"),a({global:!0,forced:!i,sham:!s},{URL:Re})},"2b4a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"edit-job py-3 py-lg-5"},[n("h2",[e._v(" Stellenanzeige "+e._s("new"===e.$route.params.jobId?"erstellen":"bearbeiten")+" ")]),n("p",[e._v(" Bearbeiten Sie hier Ihre Stellenanzeige. "),n("strong",[e._v("Tipps ")]),n("Fa",{staticClass:"position-relative text-info",staticStyle:{top:"-5px",cursor:"pointer"},attrs:{id:"popover-job-ad-tipps",icon:"info-circle",scale:"1"}}),n("b-popover",{attrs:{target:"popover-job-ad-tipps",triggers:"hover",placement:"bottomleft"},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Tipps für Ihre Stellenanzeige")]},proxy:!0}])},[n("b-link",{attrs:{href:"/blog/article/8-tipps-fuer-attraktive-stellenanzeigen-fuer-mfas",target:"_blank"}},[e._v("Hier")]),e._v(" haben wir Ihnen aus unseren Erfahrungen einige Tipps für eine attraktive Stellenanzeige zusammengestellt. ")],1)],1),n("JobForm",{attrs:{apiJobsSchema:"private"}})],1)},a=[],s=n("13e7"),i={name:"UserDashboardEditJob",components:{JobForm:s["a"]}},o=i,c=n("2877"),l=Object(c["a"])(o,r,a,!1,null,null,null);t["default"]=l.exports},"3ec8":function(e,t,n){},"54d8":function(e,t,n){"use strict";n("a5db")},"5fb2":function(e,t,n){"use strict";var r=2147483647,a=36,s=1,i=26,o=38,c=700,l=72,u=128,d="-",h=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",b=a-s,f=Math.floor,g=String.fromCharCode,v=function(e){var t=[],n=0,r=e.length;while(n<r){var a=e.charCodeAt(n++);if(a>=55296&&a<=56319&&n<r){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&a)<<10)+(1023&s)+65536):(t.push(a),n--)}else t.push(a)}return t},y=function(e){return e+22+75*(e<26)},k=function(e,t,n){var r=0;for(e=n?f(e/c):e>>1,e+=f(e/t);e>b*i>>1;r+=a)e=f(e/b);return f(r+(b+1)*e/(e+o))},_=function(e){var t=[];e=v(e);var n,o,c=e.length,h=u,p=0,b=l;for(n=0;n<e.length;n++)o=e[n],o<128&&t.push(g(o));var _=t.length,w=_;_&&t.push(d);while(w<c){var A=r;for(n=0;n<e.length;n++)o=e[n],o>=h&&o<A&&(A=o);var S=w+1;if(A-h>f((r-p)/S))throw RangeError(m);for(p+=(A-h)*S,h=A,n=0;n<e.length;n++){if(o=e[n],o<h&&++p>r)throw RangeError(m);if(o==h){for(var x=p,C=a;;C+=a){var $=C<=b?s:C>=b+i?i:C-b;if(x<$)break;var R=x-$,z=a-$;t.push(g(y($+R%z))),x=f(R/z)}t.push(g(y(x))),b=k(p,S,w==_),p=0,++w}}++p,++h}return t.join("")};e.exports=function(e){var t,n,r=[],a=e.toLowerCase().replace(p,".").split(".");for(t=0;t<a.length;t++)n=a[t],r.push(h.test(n)?"xn--"+_(n):n);return r.join(".")}},"616c":function(e,t,n){e.exports=n.p+"img/640px-Giropay.eb51080f.png"},"63b1":function(e,t,n){},"6edd":function(e,t,n){e.exports=n.p+"img/Google_Pay_(GPay)_Logo.5f13f49f.svg"},"8b74":function(e,t,n){"use strict";n("3ec8")},9861:function(e,t,n){"use strict";n("e260");var r=n("23e7"),a=n("d066"),s=n("0d3b"),i=n("6eeb"),o=n("e2cc"),c=n("d44e"),l=n("9ed3"),u=n("69f3"),d=n("19aa"),h=n("5135"),p=n("0366"),m=n("f5df"),b=n("825a"),f=n("861d"),g=n("7c73"),v=n("5c6c"),y=n("9a1f"),k=n("35a1"),_=n("b622"),w=a("fetch"),A=a("Headers"),S=_("iterator"),x="URLSearchParams",C=x+"Iterator",$=u.set,R=u.getterFor(x),z=u.getterFor(C),j=/\+/g,L=Array(4),D=function(e){return L[e-1]||(L[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},E=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(j," "),n=4;try{return decodeURIComponent(t)}catch(r){while(n)t=t.replace(D(n--),E);return t}},U=/[!'()~]|%20/g,q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e){return q[e]},F=function(e){return encodeURIComponent(e).replace(U,B)},O=function(e,t){if(t){var n,r,a=t.split("&"),s=0;while(s<a.length)n=a[s++],n.length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))}},M=function(e){this.entries.length=0,O(this.entries,e)},P=function(e,t){if(e<t)throw TypeError("Not enough arguments")},J=l((function(e,t){$(this,{type:C,iterator:y(R(e).entries),kind:t})}),"Iterator",(function(){var e=z(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),T=function(){d(this,T,x);var e,t,n,r,a,s,i,o,c,l=arguments.length>0?arguments[0]:void 0,u=this,p=[];if($(u,{type:x,entries:p,updateURL:function(){},updateSearchParams:M}),void 0!==l)if(f(l))if(e=k(l),"function"===typeof e){t=e.call(l),n=t.next;while(!(r=n.call(t)).done){if(a=y(b(r.value)),s=a.next,(i=s.call(a)).done||(o=s.call(a)).done||!s.call(a).done)throw TypeError("Expected sequence with length 2");p.push({key:i.value+"",value:o.value+""})}}else for(c in l)h(l,c)&&p.push({key:c,value:l[c]+""});else O(p,"string"===typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},H=T.prototype;o(H,{append:function(e,t){P(arguments.length,2);var n=R(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){P(arguments.length,1);var t=R(this),n=t.entries,r=e+"",a=0;while(a<n.length)n[a].key===r?n.splice(a,1):a++;t.updateURL()},get:function(e){P(arguments.length,1);for(var t=R(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){P(arguments.length,1);for(var t=R(this).entries,n=e+"",r=[],a=0;a<t.length;a++)t[a].key===n&&r.push(t[a].value);return r},has:function(e){P(arguments.length,1);var t=R(this).entries,n=e+"",r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){P(arguments.length,1);for(var n,r=R(this),a=r.entries,s=!1,i=e+"",o=t+"",c=0;c<a.length;c++)n=a[c],n.key===i&&(s?a.splice(c--,1):(s=!0,n.value=o));s||a.push({key:i,value:o}),r.updateURL()},sort:function(){var e,t,n,r=R(this),a=r.entries,s=a.slice();for(a.length=0,n=0;n<s.length;n++){for(e=s[n],t=0;t<n;t++)if(a[t].key>e.key){a.splice(t,0,e);break}t===n&&a.push(e)}r.updateURL()},forEach:function(e){var t,n=R(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),a=0;while(a<n.length)t=n[a++],r(t.value,t.key,this)},keys:function(){return new J(this,"keys")},values:function(){return new J(this,"values")},entries:function(){return new J(this,"entries")}},{enumerable:!0}),i(H,S,H.entries),i(H,"toString",(function(){var e,t=R(this).entries,n=[],r=0;while(r<t.length)e=t[r++],n.push(F(e.key)+"="+F(e.value));return n.join("&")}),{enumerable:!0}),c(T,x),r({global:!0,forced:!s},{URLSearchParams:T}),s||"function"!=typeof w||"function"!=typeof A||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,a=[e];return arguments.length>1&&(t=arguments[1],f(t)&&(n=t.body,m(n)===x&&(r=t.headers?new A(t.headers):new A,r.has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=g(t,{body:v(0,String(n)),headers:v(0,r)}))),a.push(t)),w.apply(this,a)}}),e.exports={URLSearchParams:T,getState:R}},"9a1f":function(e,t,n){var r=n("825a"),a=n("35a1");e.exports=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"9ddf":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"edit-company py-5"},[n("h2",[e._v(" Unternehmen "+e._s("new"===e.$route.params.companyId?"erstellen":"bearbeiten")+" ")]),n("CompanyForm",{attrs:{apiJobsSchema:"private"}})],1)},a=[],s=n("1ce6"),i={name:"UserDashboardEditCompany",components:{CompanyForm:s["a"]}},o=i,c=n("2877"),l=Object(c["a"])(o,r,a,!1,null,null,null);t["default"]=l.exports},a5db:function(e,t,n){},bebc:function(e,t,n){e.exports=n.p+"img/Mastercard_2019_logo.4423593b.svg"},c69d:function(e,t,n){"use strict";n("63b1")},d218:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"title"},[e._v(e._s(e.title))]),r("b-container",{staticClass:"checkout py-3 py-lg-5"},[r("div",[r("h5",{staticClass:"mb-4"},[r("strong",[e._v(e._s(e.job&&e.job.title))])]),r("p",[e._v(" Bitte wählen Sie den gewünschten Betrag, den Sie nach unserem "),r("em",[e._v("“Pay What You Want”**")]),e._v(" Modell für die Veröffentlichung der Stellenanzeige bezahlen möchten. ")]),r("div",{staticClass:"mb-3"},[r("strong",[e._v("Betrag:")]),e._v(" "+e._s((e.amountComputed/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+" "),r("Fa",{staticClass:"position-relative text-info mr-2",staticStyle:{top:"-5px",cursor:"pointer"},attrs:{id:"popover-payment-recommendation",icon:"info-circle",scale:"1"}}),r("span",{staticClass:"small"},[e._v(" "+e._s(e.amountCorelation)+" ")])],1),r("b-popover",{attrs:{target:"popover-payment-recommendation",triggers:"hover",placement:"bottomright","fallback-placement":["bottom"],container:null}},[r("PayWhatYouWantSuggestion",{staticClass:"mt-3",attrs:{minimum:!0}})],1),r("b-form",{staticClass:"mb-4"},[r("b-form-input",{attrs:{type:"range",min:e.$config.payment.minCost,max:e.$config.payment.maxCost,step:"100"},model:{value:e.checkout.amount,callback:function(t){e.$set(e.checkout,"amount",t)},expression:"checkout.amount"}}),r("div",{staticClass:"my-3"},[r("span",[r("strong",[e._v("Laufzeit:")]),e._v(" "+e._s(e.$config.payment.duration)+" Tage "),r("br")]),r("span",[r("strong",[e._v("Datumsaktualisierung:")]),e._v(" "+e._s(0!=e.refreshFrequencyComputed?"alle "+e.refreshFrequencyComputed+" Tage":"-")+" ")])]),r("b-input-group",{staticClass:"mt-3"},[r("b-form-input",{attrs:{type:"text",id:"coupon",placeholder:"Aktionscode eingeben...",trim:"",state:e.checkout.couponValidationState},model:{value:e.checkout.coupon.code,callback:function(t){e.$set(e.checkout.coupon,"code",t)},expression:"checkout.coupon.code"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(t){return t.preventDefault(),e.checkCouponCode(t)}}},[e._v("Überprüfen")])],1)],1),r("b-form-invalid-feedback",{attrs:{state:e.checkout.couponValidationState}},[e._v(" Ihr eingegebener Aktionscode ist nicht gültig oder wurde bereits benutzt. ")]),r("hr",{staticClass:"mt-4"}),r("label",{staticClass:"bold",attrs:{for:"payment-method"}},[e._v("Zahlungsart auswählen")]),r("b-form-group",[r("b-form-radio-group",{attrs:{id:"payment-method",stacked:""},model:{value:e.checkout.paymentMethod,callback:function(t){e.$set(e.checkout,"paymentMethod",t)},expression:"checkout.paymentMethod"}},[r("b-form-radio",{attrs:{value:"stripe"}},[r("b-img",{attrs:{src:n("bebc"),height:"16"}}),e._v(" Kreditkarte | "),r("b-img",{attrs:{src:n("616c"),height:"16"}}),e._v(" GiroPay | "),r("b-img",{attrs:{src:n("6edd"),height:"16"}}),e._v(" GooglePay "),r("br"),r("span",{staticClass:"small"},[e._v("Sofortige Veröffentlichung")])],1),r("b-form-radio",{attrs:{value:"invoice"}},[e._v("Rechnung*** (+ "+e._s((e.$config.payment.invoiceCost/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+") "),r("br"),r("span",{staticClass:"small"},[e._v("Veröffentlichung nach Geldeingang")])])],1)],1),"invoice"===e.checkout.paymentMethod?r("b-form-group",{staticClass:"mt-4"},[r("h5",[e._v("Rechnungsadresse")]),r("label",{attrs:{for:"billingAddress-gender"}},[e._v("Anrede")]),r("b-form-select",{attrs:{id:"billingAddress-gender",state:e.checkout.validated&&!!e.checkout.billingAddress.gender||null},model:{value:e.checkout.billingAddress.gender,callback:function(t){e.$set(e.checkout.billingAddress,"gender",t)},expression:"checkout.billingAddress.gender"}},[r("b-form-select-option",{attrs:{value:null}},[e._v("-- Anrede auswählen --")]),e._l(e.contactGenderOptions,(function(t){return r("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2),r("label",{attrs:{for:"billingAddress-title"}},[e._v("Titel")]),r("b-form-select",{attrs:{id:"billingAddress-title",state:e.checkout.validated&&!!e.checkout.billingAddress.title||null},model:{value:e.checkout.billingAddress.title,callback:function(t){e.$set(e.checkout.billingAddress,"title",t)},expression:"checkout.billingAddress.title"}},[r("b-form-select-option",{attrs:{value:null}},[e._v("-- Titel auswählen --")]),e._l(e.contactTitleOptions,(function(t){return r("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2),r("label",{attrs:{for:"billingAddress-first-name"}},[e._v("Vorname *")]),r("b-form-input",{attrs:{type:"text",state:e.checkout.validated?!!e.checkout.billingAddress.firstName:null,id:"billingAddress-first-name",placeholder:"Vorname eingeben...",required:""},model:{value:e.checkout.billingAddress.firstName,callback:function(t){e.$set(e.checkout.billingAddress,"firstName",t)},expression:"checkout.billingAddress.firstName"}}),r("label",{attrs:{for:"billingAddress-last-name"}},[e._v("Nachname *")]),r("b-form-input",{attrs:{type:"text",state:e.checkout.validated?!!e.checkout.billingAddress.lastName:null,id:"billingAddress-last-name",placeholder:"Nachname eingeben...",required:""},model:{value:e.checkout.billingAddress.lastName,callback:function(t){e.$set(e.checkout.billingAddress,"lastName",t)},expression:"checkout.billingAddress.lastName"}}),r("label",{attrs:{for:"billing-address-company"}},[e._v("Unternehmen")]),r("b-input",{attrs:{type:"text",id:"billing-address-company",placeholder:"Unternehmensname eingeben...",trim:"",state:e.checkout.validated?!!e.checkout.billingAddress.company:null},model:{value:e.checkout.billingAddress.company,callback:function(t){e.$set(e.checkout.billingAddress,"company",t)},expression:"checkout.billingAddress.company"}}),r("label",{attrs:{for:"billing-address-email"}},[e._v("E-Mail Adresse")]),r("b-input",{attrs:{type:"text",id:"billing-address-email",placeholder:"E-Mail Adresse angeben...",trim:"",state:e.checkout.validated?!!e.checkout.billingAddress.email:null},model:{value:e.checkout.billingAddress.email,callback:function(t){e.$set(e.checkout.billingAddress,"email",t)},expression:"checkout.billingAddress.email"}}),r("label",{attrs:{for:"billing-address-street"}},[e._v("Straße und Hausnummer")]),r("b-input",{attrs:{type:"text",id:"billing-address-street",placeholder:"Straße und Hausnummer eingeben...",trim:"",state:e.checkout.validated?!!e.checkout.billingAddress.street:null},model:{value:e.checkout.billingAddress.street,callback:function(t){e.$set(e.checkout.billingAddress,"street",t)},expression:"checkout.billingAddress.street"}}),r("label",{attrs:{for:"billing-address-zip-code"}},[e._v("PLZ")]),r("b-input",{attrs:{type:"text",id:"billing-address-zip-code",placeholder:"PLZ eingeben...",trim:"",state:e.checkout.validated?!!e.checkout.billingAddress.zipCode:null},model:{value:e.checkout.billingAddress.zipCode,callback:function(t){e.$set(e.checkout.billingAddress,"zipCode",t)},expression:"checkout.billingAddress.zipCode"}}),r("label",{attrs:{for:"billing-address-location"}},[e._v("Ort")]),r("b-input",{attrs:{type:"text",id:"billing-address-location",placeholder:"Ort eingeben...",trim:"",state:e.checkout.validated?!!e.checkout.billingAddress.location:null},model:{value:e.checkout.billingAddress.location,callback:function(t){e.$set(e.checkout.billingAddress,"location",t)},expression:"checkout.billingAddress.location"}}),e.checkout.error?r("b-alert",{staticClass:"mt-3",attrs:{show:"",dismissible:"",variant:"danger"}},[e._v(e._s(e.checkout.error))]):e._e()],1):e._e(),r("b-form-checkbox",{staticClass:"mt-4 small",attrs:{state:e.checkout.accepted||null,value:!0,"unchecked-value":!1,switch:"",required:""},model:{value:e.checkout.accepted,callback:function(t){e.$set(e.checkout,"accepted",t)},expression:"checkout.accepted"}},[e._v(" Ich habe die "),r("b-link",{attrs:{href:"/agbs",target:"_blank"}},[e._v(" AGBs ")]),e._v(" und "),r("b-link",{attrs:{href:"/datenschutz",target:"_blank"}},[e._v(" Datenschutzbestimmungen ")]),e._v(" gelesen und akzeptiere diese. ")],1)],1),r("div",{staticClass:"small"},[r("div",[e._v(" ** Es fällt ein "),r("strong",[e._v("Mindestbeitrag von "+e._s((e.$config.payment.minCost/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+" pro Stellenanzeige")]),e._v(" an, um den Betrieb des Portals aufrecht zu erhalten. ")]),r("div",{staticClass:"mt-1"},[e._v(" *** Sollten Sie ausschließlich auf vorab ausgestellte Rechnung bezahlen können, erhalten Sie diese nach Anforderung auf Ihre angegebene E-Mail Adresse. In dem Fall erhöht sich Ihr gewählter Kostenbeitrag um "+e._s((e.$config.payment.invoiceCost/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+". "),r("strong",[e._v("Ihre Stellenanzeige wird nach erfolgtem Geldeingang bei uns freigeschaltet.")])])])],1),r("div",{staticClass:"d-flex justify-content-between align-items-start mt-5"},[r("b-button",{staticClass:"mr-2 mb-2",attrs:{variant:"danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Abbrechen")]),r("div",["invoice"===e.checkout.paymentMethod?r("b-button",{staticClass:"mr-2 mb-2",attrs:{variant:"success",disabled:!e.checkout.accepted},on:{click:function(t){return t.preventDefault(),e.sendInvoice(t)}}},[e._v(e._s(((e.amountComputed+500)/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+" | Rechnung anfordern ")]):e._e(),"stripe"===e.checkout.paymentMethod?r("b-button",{staticClass:"mb-2",attrs:{variant:"success",disabled:!e.checkout.accepted},on:{click:function(t){return e.startStripeCheckout()}}},[e._v(" "+e._s((e.amountComputed/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+" | Jetzt bezahlen ")]):e._e()],1)],1)]),r("Head",{attrs:{title:e.title,desc:""}})],1)},a=[],s=(n("b0c0"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf"),n("c964")),i=n("1ba6"),o=n("f873"),c={data:function(){return{stripe:null,stripePk:null,checkoutSessionId:null}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initStripe();case 2:case"end":return t.stop()}}),t)})))()},methods:{initStripe:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("/api/stripe/get-stripe-pk");case 2:n=t.sent,e.stripePk=n.data.stripePk,e.stripe=window.Stripe(e.stripePk);case 5:case"end":return t.stop()}}),t)})))()},initStripeCheckout:function(e,t){var n=arguments,r=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var s,i,o,c,l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=n.length>2&&void 0!==n[2]?n[2]:"",i=n.length>3&&void 0!==n[3]?n[3]:null,o=n.length>4?n[4]:void 0,c=n.length>5&&void 0!==n[5]&&n[5],l=n.length>6&&void 0!==n[6]?n[6]:"",r.$store.dispatch("setOverlay",!0),a.prev=6,a.next=9,r.$axios.post("/api/stripe/".concat(e,"/create-session-id"),{type:e,id:t,title:s,url:l,code:i,amount:o,accepted:c});case 9:if(u=a.sent,!u.data.success){a.next=18;break}return r.checkoutSessionId=u.data.sessionId,r.$gtag.event("begin_checkout",{value:o,currency:"EUR",items:[{id:t,name:s,coupon:i,price:o,category:e}]}),r.$matomo&&r.$matomo.trackEvent("commerce","begin_checkout",t,o/100),a.next=16,r.redirectToCheckout(r.checkoutSessionId);case 16:a.next=19;break;case 18:throw new Error;case 19:a.next=24;break;case 21:a.prev=21,a.t0=a["catch"](6),r.$root.$bvToast.toast("Der Zahlungsprozess funktioniert leider im Moment nicht. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns über unsere Kontaktdaten.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 24:r.$store.dispatch("setOverlay",!1);case 25:case"end":return a.stop()}}),a,null,[[6,21]])})))()},redirectToCheckout:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.stripe.redirectToCheckout({sessionId:e});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),t.$root.$bvToast.toast("Der Zahlungsprozess funktioniert leider im Moment nicht. Bitte versuchen Sie es später noch einmal oder kontaktieren Sie uns über unsere Kontaktdaten.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()}}},l={name:"UserDashboardCheckoutJob",mixins:[c],components:{PayWhatYouWantSuggestion:o["a"]},data:function(){return{title:"Zahlung – Stellenanzeige veröffentlichen",job:Object,checkout:{paymentMethod:"stripe",amount:null,coupon:{code:null,discount:0,refreshFrequency:0},couponValidationState:null,billingAddress:{gender:null,title:null,firstName:"",lastName:"",company:null,email:null,street:null,zipCode:null,location:null},accepted:!1,validated:!1,error:!1},contactGenderOptions:i["d"],contactTitleOptions:i["e"]}},computed:{amountComputed:function(){return Math.round(this.checkout.amount*(1-this.checkout.coupon.discount)*100)/100},amountCorelation:function(){var e;return e=this.checkout.amount>=this.$config.payment.xLargeCost?"~ große Versorgungseinrichtung | 20+ MitarbeiterInnen":this.checkout.amount>=this.$config.payment.largeCost?"~ große Praxis oder kleinere bis mittlere Versorgungseinrichtung | 11 - 20 MitarbeiterInnen":this.checkout.amount>=this.$config.payment.mediumCost?"~ mittlere Praxis | 6 - 10 MitarbeiterInnen":"~ kleine Praxis | 1 - 5 MitarbeiterInnen",e},refreshFrequencyComputed:function(){var e=0;return this.checkout.coupon.refreshFrequency?e=this.checkout.coupon.refreshFrequency:this.checkout.amount>=this.$config.payment.refreshCost&&(e=14),e}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getJob();case 2:e.job.company.size&&e.calculatePrice(),e.job.company.name&&e.setBillingAddress();case 4:case"end":return t.stop()}}),t)})))()},methods:{getJob:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setOverlay",!0),t.prev=1,t.next=4,e.$axios.get("/graphql",{params:{query:'\n                            query {\n                                myJob (_id: "'.concat(e.$route.params.jobId,'") {\n                                    _id\n                                    createdAt\n                                    updatedAt\n                                    publishedAt\n                                    status\n                                    paid\n                                    paidExpiresAt\n                                    applicationDeadline\n                                    title\n                                    company {\n                                        name\n                                        street\n                                        zipCode\n                                        location\n                                        state\n                                        size\n                                    }\n                                    payment {\n                                        status\n                                        paidAt\n                                        paymentExpiresAt\n                                    }\n                                }\n                            }\n                        ')}});case 4:if(n=t.sent,!n.data.errors){t.next=7;break}throw new Error;case 7:e.job=n.data.data.myJob,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.$root.$bvToast.toast("Ihre Stellenanzeige konnten nicht geladen werden. Bitte versuchen Sie es noch einmal, indem Sie die Seite neu laden.",{title:"Fehler beim Laden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 13:e.$store.dispatch("setOverlay",!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},calculatePrice:function(){switch(this.job.company.size){case"1 - 5 Mitarbeiter":this.checkout.amount=this.$config.payment.minCost;break;case"6 - 10 Mitarbeiter":this.checkout.amount=this.$config.payment.mediumCost;break;case"11 - 20 Mitarbeiter":this.checkout.amount=this.$config.payment.largeCost;break;case"20+ Mitarbeiter":this.checkout.amount=this.$config.payment.xLargeCost;break}},setBillingAddress:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.state.auth.loggedIn&&e.$store.state.auth.user&&(e.checkout.billingAddress={gender:e.$store.state.auth.user.gender||null,title:e.$store.state.auth.user.title||null,firstName:e.$store.state.auth.user.firstName||"",lastName:e.$store.state.auth.user.lastName||"",company:e.job.company.name,email:e.$store.state.auth.user.email,street:e.job.company.street,zipCode:e.job.company.zipCode,location:e.job.company.location});case 1:case"end":return t.stop()}}),t)})))()},validateBillingAddress:function(){return this.checkout.error=null,this.checkout.validated=!0,!!(this.checkout.billingAddress.company&&this.checkout.billingAddress.firstName&&this.checkout.billingAddress.lastName&&this.checkout.billingAddress.email&&this.checkout.billingAddress.street&&this.checkout.billingAddress.zipCode&&this.checkout.billingAddress.location)},sendInvoice:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.validateBillingAddress()){t.next=3;break}return e.checkout.error="Bitte füllen Sie die erforderlichen Felder aus!",t.abrupt("return",null);case 3:return e.$store.dispatch("setOverlay",!0),t.prev=4,t.next=7,e.$axios.post("/api/invoice/get-invoice",{jobId:e.job._id,jobTitle:e.job.title,amount:e.checkout.amount,paymentMethod:e.checkout.paymentMethod,couponCode:e.checkout.coupon.code,refreshFrequency:e.refreshFrequencyComputed,billingAddress:e.checkout.billingAddress});case 7:if(n=t.sent,n.data.success){t.next=10;break}throw new Error("Invoice could not be sent!");case 10:return e.$root.$bvToast.toast("Vielen Dank! Ihre Rechnung wurde erfolgreich angefordert. Sie erhalten die gewünschte Rechnung in Kürze auf die angegebene E-Mail Adresse.",{title:"Rechnung angefordert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),t.next=13,e.downloadInvoice(n.data.paymentId,n.data.invoiceNo);case 13:e.$gtag.event("begin_checkout",{value:e.checkout.amount/100,currency:"EUR",items:[{id:e.job._id,name:e.job.title,coupon:e.checkout.coupon.code,price:e.checkout.amount,category:e.checkout.paymentMethod}]}),e.$matomo&&e.$matomo.trackEvent("commerce","begin_checkout",e.job._id,e.checkout.amount/100),e.$router.push("/user/dashboard?tab=1"),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](4),e.$root.$bvToast.toast("Bei der Verarbeitung Ihrer Daten ist leider ein Fehler aufgetreten. Bitte versuchen Sie es später noch einmal.",{title:"Fehler bei Rechnungsanforderung",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0});case 21:e.$store.dispatch("setOverlay",!1);case 22:case"end":return t.stop()}}),t,null,[[4,18]])})))()},downloadInvoice:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,n.$axios.get("/api/invoice/download/".concat(e),{responseType:"blob"});case 4:a=r.sent,s=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a"),i.href=s,i.setAttribute("download","".concat("RE-"+"000000".slice(0,6-t.toString().length)+t.toString(),".pdf")),i.setAttribute("target","_blank"),i.classList.add("d-none"),document.body.appendChild(i),i.click();case 13:case"end":return r.stop()}}),r)})))()},startStripeCheckout:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.initStripeCheckout("job",e.job._id,e.job.title,e.checkout.coupon.code,e.checkout.amount,e.checkout.accepted,"/user/dashboard?tab=1");case 2:case"end":return t.stop()}}),t)})))()},checkCouponCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.checkout.couponValidationState=null,t.next=3,e.$axios.get("/graphql",{params:{query:'\n                        query {\n                            validateCoupon (code: "'.concat(e.checkout.coupon.code,'") {\n                                _id\n                                code\n                                discount\n                                refreshFrequency\n                            }\n                        }\n                    ')}});case 3:n=t.sent,n.data.errors?(e.checkout.couponValidationState=!1,e.checkout.coupon.discount=0,e.checkout.coupon.refreshFrequency=0):(e.checkout.couponValidationState=!0,e.checkout.coupon.discount=n.data.data.validateCoupon.discount,e.checkout.coupon.refreshFrequency=n.data.data.validateCoupon.refreshFrequency);case 5:case"end":return t.stop()}}),t)})))()}}},u=l,d=n("2877"),h=Object(d["a"])(u,r,a,!1,null,null,null);t["default"]=h.exports},f873:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h5",[e._v("Wie hoch könnte Ihr Beitrag sein?")]),n("p",[e._v(" Wenn Sie nicht so recht wissen, wie hoch ihr Beitrag ausfallen könnte, gebe ich Ihnen an der Stelle gern einen Vorschlag, der sich an vergleichbaren Angeboten von anderen Branchen orientiert. ")]),n("ul",[n("li",[e._v(" Als "),n("strong",[e._v("kleine Praxis")]),e._v(" bis 5 MitarbeiterInnen, die zum ersten Mal in Jahren eine neue feste Stelle ausschreibt: "),n("strong",[e._v(e._s(e.$config.payment.minCost/100)+" "+e._s(e.$config.payment.currency)+" pro Stelle.")])]),n("li",[e._v(" Als "),n("strong",[e._v("mittlere Praxis")]),e._v(" mit 6 bis 10 MitarbeiterInnen, die gelegentlich eine neue Stelle ausschreibt: "),n("strong",[e._v(e._s(e.$config.payment.mediumCost/100)+" "+e._s(e.$config.payment.currency)+" pro Stelle.")])]),n("li",[e._v(" Als "),n("strong",[e._v("größere Praxis")]),e._v(" oder "),n("strong",[e._v("kleinere bis mittlere Versorgungseinrichtung ")]),e._v("mit 11 bis 20 MitarbeiterInnen, die regelmäßig Stellen ausschreibt: "),n("strong",[e._v(e._s(e.$config.payment.largeCost/100)+" "+e._s(e.$config.payment.currency)+" pro Stelle.")])]),n("li",[e._v(" Als "),n("strong",[e._v("große Versorgungseinrichtung ")]),e._v("mit über 20 Mitarbeiter*innen, die regelmäßig mehrere Stellen ausschreibt: "),n("strong",[e._v(e._s(e.$config.payment.xLargeCost/100)+" "+e._s(e.$config.payment.currency)+" pro Stelle.")])])]),n("p",[n("strong",[e._v(" Ab einem Betrag von "+e._s(e.$config.payment.refreshCost/100)+" "+e._s(e.$config.payment.currency)+" ")]),e._v(" wird Ihre Stellenanzeige automatisch alle 14 Tage in der Anzeigenliste an den Anfang versetzt. ")]),e._m(0),e.minimum?n("p",{staticClass:"small"},[e._v(" * Es fällt ein Mindestbeitrag von "+e._s((e.$config.payment.minCost/100).toFixed(2).toString().replace(".",","))+" "+e._s(e.$config.payment.currency)+" pro Stellenanzeige à "+e._s(e.$config.payment.duration)+" Tage an, der für den Betrieb der IT-Infrastruktur und der Pflege des Portals unerlässlich ist. ")]):e._e()])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"small"},[e._v(" Der Grundsatz "),n("strong",[n("em",[e._v("“Pay What You Want”")])]),e._v("* bleibt natürlich bestehen. Sie bestimmen die Höhe in Abhängigkeit von Ihrer ganz individuellen Situation. ")])}],s={name:"PayWhatYouWantSuggestion",props:["minimum"]},i=s,o=n("2877"),c=Object(o["a"])(i,r,a,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=user.d019c197.js.map