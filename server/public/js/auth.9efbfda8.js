(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth"],{"0119":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",{staticClass:"title"},[e._v(e._s(e.title))]),s("div",{staticClass:"logout container"}),s("b-alert",{staticClass:"position-fixed fixed-bottom m-0 rounded-0",staticStyle:{"z-index":"2000"},attrs:{variant:"danger",dismissible:""},model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[e._v(" "+e._s(e.alert.msg)+" "),s("BSpinner",{staticStyle:{width:"1.2rem",height:"1.2rem"},attrs:{variant:"danger",label:"Spinning"}})],1),s("Head",{attrs:{title:e.title,desc:"Ausloggen bei MFA mal anders",img:""}})],1)},a=[],i=s("2b0e"),o=s("01e3");i["default"].component("BSpinner",o["a"]);var n={name:"AuthLogout",data(){return{title:"Abmelden",alert:{show:!1,msg:""}}},mounted(){this.$route.query.error&&this.$root.$bvToast.toast(this.$route.query.error,{title:"Fehler",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),this.logout()},methods:{async logout(){localStorage.clear(),localStorage.setItem("nl-pop","false");const e=await this.$axios.get("/api/auth/logout");e.data.success&&(this.$store.commit("setUserId",""),this.$store.commit("setUserRole",""),this.$store.commit("setUserStatus",""),this.$router.push({path:"/auth/login"}))}}},l=n,c=s("2877"),u=Object(c["a"])(l,r,a,!1,null,null,null);t["default"]=u.exports},"01e3":function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var r=s("2b0e"),a=s("b42e"),i=s("c637"),o=s("a723"),n=s("9b76"),l=s("365c"),c=s("cf75");function u(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d=Object(c["d"])({label:Object(c["c"])(o["s"]),role:Object(c["c"])(o["s"],"status"),small:Object(c["c"])(o["g"],!1),tag:Object(c["c"])(o["s"],"span"),type:Object(c["c"])(o["s"],"border"),variant:Object(c["c"])(o["s"])},i["lb"]),p=r["default"].extend({name:i["lb"],functional:!0,props:d,render:function(e,t){var s,r=t.props,i=t.data,o=t.slots,c=t.scopedSlots,d=o(),p=c||{},h=Object(l["b"])(n["p"],{},p,d)||r.label;return h&&(h=e("span",{staticClass:"sr-only"},h)),e(r.tag,Object(a["a"])(i,{attrs:{role:h?r.role||"status":null,"aria-hidden":h?null:"true"},class:(s={},u(s,"spinner-".concat(r.type),r.type),u(s,"spinner-".concat(r.type,"-sm"),r.small),u(s,"text-".concat(r.variant),r.variant),s)}),[h||e()])}})},"5c74":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login auth-container container"},[s("h2",{staticClass:"text-center"},[e._v(e._s(e.title))]),s("div",{staticClass:"icon-box mx-auto bg-primary rounded-circle",staticStyle:{width:"75px",height:"75px"}},[s("Fa",{staticClass:"text-light m-0",attrs:{icon:"unlock-alt",size:"2x"}})],1),s("LoginForm"),s("Head",{attrs:{title:e.title,desc:"Anmelden bei MFA mal anders",img:""}})],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-form",[s("label",{attrs:{for:"email"}},[e._v("E-Mail Addresse")]),s("b-form-input",{attrs:{id:"email",type:"email",placeholder:"E-Mail Adresse eingeben...",autocomplete:"email",trim:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("label",{attrs:{for:"password"}},[e._v("Passwort")]),s("b-input-group",[s("b-form-input",{attrs:{id:"password",type:e.passwordType,placeholder:"Passwort eingeben...",autocomplete:"current-password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("b-input-group-append",{attrs:{"is-text":""}},[s("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash",size:"lg"},on:{click:e.togglePasswordType}})],1)],1),s("button",{staticClass:"btn btn-primary my-3",on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(" Login ")]),s("p",[e._v(" Noch nicht registriert? Jetzt "),s("b-link",{attrs:{to:"/auth/register"}},[e._v("Registrieren")]),e._v(". ")],1),s("p",[s("b-link",{attrs:{to:"/auth/password-reset"}},[e._v("Passwort vergessen?")])],1),e.errors?s("div",{staticClass:"error mt-3"},e._l(e.errors,(function(t){return s("b-alert",{key:t.message,attrs:{show:"",dismissible:"",variant:"danger"}},[e._v(e._s(t.message))])})),1):e._e()],1)},o=[],n={name:"LoginForm",data(){return{email:"",password:"",passwordType:"password",errors:[]}},methods:{async onSubmit(){this.$store.dispatch("setOverlay",!0);const e=await this.$store.dispatch("auth",{type:"login",creds:{email:this.email.toLowerCase(),password:this.password}});e.errors?this.errors=e.errors:("pending"===this.$store.state.auth.user.status?this.$router.push("/auth/account/verification"):this.$store.state.auth.loggedIn&&(this.$store.state.auth.user.isEmployee?this.$router.push(this.$route.query.redirect||"/user/dashboard?tab=5"):this.$router.push(this.$route.query.redirect||"/user/dashboard?tab=1")),this.$gtag.event("login",{method:"local",event_label:this.$store.state.auth.user._id})),this.$store.dispatch("getStarredJobs"),this.$store.dispatch("setOverlay",!1)},togglePasswordType(){"text"===this.passwordType?this.passwordType="password":this.passwordType="text"}}},l=n,c=(s("c072"),s("2877")),u=Object(c["a"])(l,i,o,!1,null,"47365054",null),d=u.exports,p={name:"AuthLogin",components:{LoginForm:d},data(){return{title:"Anmeldung"}}},h=p,m=Object(c["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},"67fe":function(e,t,s){},"77a0":function(e,t,s){},"77be":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"account-verification container position-relative py-5"},[s("h2",[e._v("E-Mail Adresse verifizieren")]),s("p",[e._v(" Aus Datenschutzgründen müssen wir Ihre E-Mail Adresse verifizieren. ")]),e._m(0),s("p",[e._v("Keine E-Mail erhalten?")]),s("b-button",{staticClass:"mt-3 mr-2",attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(" Neue E-Mail zur Aktivierung senden ")]),s("b-button",{staticClass:"mt-3 mr-2",attrs:{variant:"secondary",to:"/kontakt?subject=Probleme+bei+E-Mail-Verifizierung"}},[e._v(" Probleme? Kontakt aufnehmen ")])],1)},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v(" Bitte "),s("strong",[e._v("überprüfen Sie in den nächsten Minuten Ihr E-Mail Postfach")]),e._v(" und bestätigen Sie Ihre E-Mail Adresse über den Aktivierungslink. "),s("strong",[e._v(" Bitte überprüfen Sie gegebenenfalls auch Ihren Spam Ordner. ")])])}],i={name:"AuthAccountVerification",data(){return{timeoutId:null}},async mounted(){await this.activateUser(),this.checkUserStatus(),this.checkError()},methods:{async onSubmit(){this.$store.dispatch("setOverlay",!0);const e=await(await this.$store.dispatch("getActivationEmail"));e?this.$root.$bvToast.toast("Eine neue E-Mail mit Aktivierungslink wurde versandt und sollte innerhalb der nächsten Minuten in Ihrem Postfach ankommen. Bitte überprüfen Sie ggfls. auch Ihren Spam Ordner.",{title:"Aktivierungslink versandt",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}):this.$root.$bvToast.toast("Die E-Mail konnte leider nicht versandt werden. Bitte versuchen Sie es noch einmal oder melden sich ggfls. über unser Kontaktformular.",{title:"Fehler beim Versenden der E-Mail",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),this.$store.dispatch("setOverlay",!1)},async activateUser(){if(this.$store.dispatch("setOverlay",!0),this.$route.params.userId){const e=await this.$store.dispatch("activateUser",this.$route.params.userId);e||this.checkUserStatus()}this.$store.dispatch("setOverlay",!1)},async checkUserStatus(){await this.$store.dispatch("fetchUserFromToken"),"active"===this.$store.state.auth.user.status?(this.$root.$bvToast.toast("Sie haben Ihre E-Mail Adresse erfolgreich bestätigt. Ihr Account ist nun freigeschaltet.",{title:"Account aktiviert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0}),this.$router.push("/user/dashboard?tab=1")):this.timeoutId=setTimeout(async()=>{this.checkUserStatus()},5e3)},checkError(){this.$route.query.error&&this.$root.$bvToast.toast("Bei der Bestätigung Ihrer E-Mail Adresse ist ein Fehler aufgetreten. Bitte versuchen Sie es noch einmal, indem Sie einen neuen Aktivierungslink anfordern oder melden Sie sich über unser Kontaktformular.",{title:"Fehler bei der Aktivierung",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}}},o=i,n=s("2877"),l=Object(n["a"])(o,r,a,!1,null,null,null);t["default"]=l.exports},"8ad8":function(e,t,s){},b631:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"register auth-container container"},[s("RegisterForm",{scopedSlots:e._u([{key:"intro",fn:function(){return[s("h2",{staticClass:"text-center mb-0"},[e._v(" "+e._s("employee"===e.$route.query.role?"Registrierung als MFA/ ZFA":"education"===e.$route.query.role?"Registrierung als Fortbildungsanbieter":"Registrierung als Arbeitgeber")+" ")]),"education"==e.$route.query.role?s("div",{staticClass:"mt-4"},[s("p",{staticClass:"bold text-left text-md-center"},[e._v(" Sie möchten eine Fortbildung bei uns veröffentlichen? ")])]):"employee"==e.$route.query.role?s("div",{staticClass:"mt-4"}):s("div",{staticClass:"mt-4"},[s("p",{staticClass:"bold text-left text-md-center"},[e._v(" Sie möchten eine Stellenanzeige bei uns schalten? ")]),s("div",{staticClass:"row row-cols-md-3 d-none d-md-flex my-4 text-center"},[s("div",{staticClass:"col"},[s("div",{staticClass:"icon-box mx-auto bg-primary rounded-circle",staticStyle:{width:"75px",height:"75px"}},[s("Fa",{staticClass:"text-light m-0",attrs:{icon:"user-plus",size:"2x"}})],1),s("h3",{staticClass:"h6"},[e._v("Registrieren")])]),s("div",{staticClass:"col"},[s("div",{staticClass:"icon-box mx-auto bg-primary rounded-circle",staticStyle:{width:"75px",height:"75px"}},[s("Fa",{staticClass:"text-light m-0",attrs:{icon:"drafting-compass",size:"2x"}})],1),s("h3",{staticClass:"h6"},[e._v("Stellenanzeige erstellen")])]),s("div",{staticClass:"col"},[s("div",{staticClass:"icon-box mx-auto bg-primary rounded-circle",staticStyle:{width:"75px",height:"75px"}},[s("Fa",{staticClass:"text-light m-0",attrs:{icon:"paper-plane",size:"2x"}})],1),s("h3",{staticClass:"h6"},[e._v("Veröffentlichen")])])]),s("p",{},[e._v(" Registrieren Sie sich jetzt und veröffentlichen Sie noch heute Ihre Stellenanzeige! ")])])]},proxy:!0}])}),s("Head",{attrs:{title:e.title,desc:"Registriere Dich jetzt bei MFA mal anders und veröffentliche noch heute Deine Stellenanzeige.",img:""}})],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("BButtonGroup",{staticClass:"d-flex mb-4"},[s("b-button",{attrs:{variant:e.isEmployer?"primary":"outline-primary"},on:{click:function(t){return e.toggleRole("employer")}}},[e._v("Ich bin Arbeitgeber")]),s("b-button",{attrs:{variant:e.isEmployee?"primary":"outline-primary"},on:{click:function(t){return e.toggleRole("employee")}}},[e._v("Ich bin MFA/ZFA")]),s("b-button",{attrs:{variant:e.isEducational?"primary":"outline-primary"},on:{click:function(t){return e.toggleRole("education")}}},[e._v("Ich bin Fortbildungs-anbieter")])],1),e._t("intro"),s("b-form",[s("label",{attrs:{for:"user-gender"}},[e._v("Anrede")]),s("b-form-select",{attrs:{id:"user-gender"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},[s("b-form-select-option",{attrs:{value:""}},[e._v("-- Anrede auswählen --")]),e._l(e.contactGenderOptions,(function(t){return s("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2),e.isEmployer||e.isEducational?s("label",{attrs:{for:"user-title"}},[e._v("Titel")]):e._e(),e.isEmployer||e.isEducational?s("b-form-select",{attrs:{id:"user-title"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}},[s("b-form-select-option",{attrs:{value:""}},[e._v("-- Titel auswählen --")]),e._l(e.contactTitleOptions,(function(t){return s("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2):e._e(),s("label",{attrs:{for:"firstName",required:""}},[e._v("Vorname")]),s("b-form-input",{attrs:{id:"firstName",type:"text",placeholder:"Vorname eingeben...",autocomplete:"given-name",trim:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}}),s("label",{attrs:{for:"lastName",required:""}},[e._v("Nachname")]),s("b-form-input",{attrs:{id:"lastName",type:"text",placeholder:"Nachname eingeben...",autocomplete:"family-name",trim:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}}),s("label",{attrs:{for:"email",required:""}},[e._v("E-Mail Adresse")]),s("b-form-input",{attrs:{id:"email",type:"email",placeholder:"E-Mail Adresse eingeben...",autocomplete:"email",trim:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("label",{attrs:{for:"password",required:""}},[e._v("Passwort")]),s("b-input-group",[s("b-form-input",{attrs:{id:"password",type:e.passwordType,placeholder:"Passwort eingeben...",autocomplete:"new-password","aria-describedby":"password-help-block"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("b-input-group-append",{attrs:{"is-text":""}},[s("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash",size:"lg"},on:{click:e.togglePasswordType}})],1)],1),s("b-form-text",{attrs:{id:"password-help-block"}},[e._v(" Das Passwort muss mindestens 6 Zeichen inkl. jeweils ein Kleinbuchstabe, Großbuchstabe, Zahl und Sonderzeichen enthalten. ")]),s("label",{attrs:{for:"password2",required:""}},[e._v("Passwort wiederholen")]),s("b-input-group",[s("b-form-input",{attrs:{id:"password2",type:e.passwordType,placeholder:"Passwort eingeben...",autocomplete:"new-password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),s("b-input-group-append",{attrs:{"is-text":""}},[s("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash",size:"lg"},on:{click:e.togglePasswordType}})],1)],1),s("b-form-checkbox",{staticClass:"mt-3",attrs:{id:"acceptance",name:"acceptance",value:"accepted","unchecked-value":"not_accepted",switch:""},model:{value:e.acceptance,callback:function(t){e.acceptance=t},expression:"acceptance"}},[e._v(" Ich habe die "),s("b-link",{attrs:{href:"/agbs",target:"_blank"}},[e._v(" AGBs ")]),e._v(" und "),s("b-link",{attrs:{href:"/datenschutz",target:"_blank"}},[e._v(" Datenschutzbestimmungen ")]),e._v(" gelesen und akzeptiere diese. * ")],1),s("button",{staticClass:"btn btn-primary my-3",on:{click:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._v(" Registrieren ")]),s("p",[e._v(" Bereits registriert? Jetzt "),s("b-link",{attrs:{to:"/auth/login"}},[e._v("Anmelden")]),e._v(". ")],1),e.errors?s("div",{staticClass:"error mt-3"},e._l(e.errors,(function(t){return s("b-alert",{key:t.message,attrs:{show:"",dismissible:"",variant:"danger"}},[e._v(e._s(t.message))])})),1):e._e()],1)],2)},o=[],n=s("2b0e"),l=s("b42e"),c=s("c637"),u=s("a723"),d=s("d82f"),p=s("cf75"),h=s("1947");function m(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?m(Object(s),!0).forEach((function(t){g(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function g(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var v=Object(p["d"])(Object(d["m"])(b(b({},Object(d["k"])(h["b"],["size"])),{},{ariaRole:Object(p["c"])(u["s"],"group"),size:Object(p["c"])(u["s"]),tag:Object(p["c"])(u["s"],"div"),vertical:Object(p["c"])(u["g"],!1)})),c["h"]),f=n["default"].extend({name:c["h"],functional:!0,props:v,render:function(e,t){var s=t.props,r=t.data,a=t.children;return e(s.tag,Object(l["a"])(r,{class:g({"btn-group":!s.vertical,"btn-group-vertical":s.vertical},"btn-group-".concat(s.size),s.size),attrs:{role:s.ariaRole}}),a)}}),w=s("1ba6");n["default"].component("BButtonGroup",f);var y={name:"RegisterForm",data(){return{gender:"",title:"",firstName:"",lastName:"",email:"",password:"",password2:"",passwordType:"password",acceptance:"",contactGenderOptions:w["d"],contactTitleOptions:w["e"],isEmployer:!0,isEmployee:!1,isEducational:!1,errors:[]}},mounted(){this.toggleRole(this.$route.query.role)},methods:{async onSubmit(){this.$store.dispatch("setOverlay",!0);const e=await this.$store.dispatch("auth",{type:"register",creds:{gender:this.gender,title:this.title,firstName:this.firstName,lastName:this.lastName,email:this.email.toLowerCase(),password:this.password,password2:this.password2,isEmployer:this.isEmployer,isEmployee:this.isEmployee,isEducational:this.isEducational,acceptance:this.acceptance}});e.errors?this.errors=e.errors:(await this.$store.dispatch("getActivationEmail"),this.$store.state.auth.user._id&&(this.$gtag.event("sign_up",{method:"local",event_label:`id: ${this.$store.state.auth.user._id}; type: ${this.isEmployer?"employer":this.isEmployee?"employee":"educational"}`}),this.$router.push("/auth/account/verification"))),this.$store.dispatch("setOverlay",!1)},togglePasswordType(){"text"===this.passwordType?this.passwordType="password":this.passwordType="text"},toggleRole(e){e!=this.$route.query.role&&this.$router.push({query:{role:e}}),"employee"===e?(this.isEmployer=!1,this.isEmployee=!0,this.isEducational=!1):"education"===e?(this.isEmployer=!1,this.isEmployee=!1,this.isEducational=!0):(this.isEmployer=!0,this.isEmployee=!1,this.isEducational=!1)}}},_=y,x=(s("bb46"),s("2877")),k=Object(x["a"])(_,i,o,!1,null,"385bf159",null),$=k.exports,E={name:"AuthRegister",components:{RegisterForm:$},data(){return{title:"Registrierung für Arbeitgeber"}}},O=E,C=Object(x["a"])(O,r,a,!1,null,null,null);t["default"]=C.exports},bb46:function(e,t,s){"use strict";s("67fe")},c072:function(e,t,s){"use strict";s("77a0")},ed83:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"password-reset auth-container container"},[s("h2",{staticClass:"text-center"},[e._v(e._s(e.title))]),s("PasswordResetForm")],1)},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[0===e.state?s("b-form",[s("label",{attrs:{for:"email"}},[e._v("E-Mail Adresse")]),s("b-form-input",{attrs:{id:"email",type:"email",placeholder:"E-Mail Adresse eingeben...",autocomplete:"email",autofocus:"",trim:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("button",{staticClass:"btn btn-primary my-3",on:{click:function(t){return t.preventDefault(),e.onSubmitEmail(t)}}},[e._v(" Passwort zurücksetzen ")]),s("p",[e._v(" Nicht was Du möchtest? "),s("b-link",{attrs:{to:"/auth/register"}},[e._v("Registrieren")]),e._v(" oder "),s("b-link",{attrs:{to:"/login"}},[e._v("Anmelden")]),e._v("! ")],1)],1):e._e(),1===e.state?s("b-form",[s("p",{staticClass:"mt-4"},[e._v(" Bitte überprüfen Sie Ihr E-Mail Postfach und geben Sie den erhaltenen Code ein. ")]),s("label",{attrs:{for:"secretCode"}},[e._v("Code")]),s("b-form-input",{attrs:{id:"secretCode",type:"text",placeholder:"Code eingeben...",autofocus:"",trim:""},model:{value:e.secretCode,callback:function(t){e.secretCode=t},expression:"secretCode"}}),s("label",{attrs:{for:"password"}},[e._v("Neues Passwort")]),s("b-input-group",[s("b-form-input",{attrs:{id:"password",type:e.passwordType,placeholder:"Neues Passwort eingeben...",autocomplete:"new-password","aria-describedby":"password-help-block"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("b-input-group-append",{attrs:{"is-text":""}},[s("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash",size:"lg"},on:{click:e.togglePasswordType}})],1)],1),s("b-form-text",{attrs:{id:"password-help-block"}},[e._v(" Das Passwort muss mindestens 6 Zeichen inkl. jeweils ein Kleinbuchstabe, Großbuchstabe, Zahl und Sonderzeichen enthalten. ")]),s("label",{attrs:{for:"password2"}},[e._v("Passwort wiederholen")]),s("b-input-group",[s("b-form-input",{attrs:{id:"password2",type:e.passwordType,placeholder:"Passwort eingeben...",autocomplete:"new-password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),s("b-input-group-append",{attrs:{"is-text":""}},[s("Fa",{attrs:{icon:"text"===e.passwordType?"eye":"eye-slash",size:"lg"},on:{click:e.togglePasswordType}})],1)],1),s("button",{staticClass:"btn btn-primary my-3",on:{click:function(t){return t.preventDefault(),e.onSubmitNewPw(t)}}},[e._v(" Neues Passwort speichern ")])],1):e._e(),e.errors?s("div",{staticClass:"error mt-3"},e._l(e.errors,(function(t){return s("b-alert",{key:t.message,attrs:{show:"",dismissible:"",variant:"danger"}},[e._v(e._s(t.message))])})),1):e._e()],1)},o=[],n={name:"PasswordResetForm",data(){return{email:"",password:"",password2:"",passwordType:"password",secretCode:"",state:0,errors:[]}},methods:{async onSubmitEmail(){this.$store.dispatch("setOverlay",!0),this.errors=[];const e=await this.$axios.post("/graphql",{query:`\n                          mutation {\n                              resetPasswordGetCode (email: "${this.email.toLowerCase()}") {\n                                  _id\n                              }\n                          }\n                      `});e.data.errors?this.errors=e.data.errors:this.state=1,this.$store.dispatch("setOverlay",!1)},async onSubmitNewPw(){this.errors=[],this.$store.dispatch("setOverlay",!0);const e=await this.$axios.post("/graphql",{query:`\n                      mutation {\n                          resetPasswordVerify(\n                              email: "${this.email.toLowerCase()}",\n                              password: "${this.password}",\n                              password2: "${this.password2}",\n                              code: "${this.secretCode}"\n\n                          ) {\n                              _id\n                          }\n                      }\n                  `});e.data.errors?this.errors=e.data.errors:(this.$root.$bvToast.toast("Ihr neues Passwort wurde erfolgreich gespeichert. Bitte melden Sie sich mit dem neuen Passwort an.",{title:"Neues Passwort gespeichert",variant:"success",toaster:"b-toaster-bottom-right",solid:!0,autoHideDelay:1e4}),this.$router.push({path:"/auth/login"})),this.$store.dispatch("setOverlay",!1)},togglePasswordType(){"text"===this.passwordType?this.passwordType="password":this.passwordType="text"}}},l=n,c=(s("f311"),s("2877")),u=Object(c["a"])(l,i,o,!1,null,"3ea92bdf",null),d=u.exports,p={name:"AuthPasswordReset",components:{PasswordResetForm:d},data(){return{title:"Passwort zurücksetzen"}}},h=p,m=Object(c["a"])(h,r,a,!1,null,null,null);t["default"]=m.exports},f311:function(e,t,s){"use strict";s("8ad8")}}]);
//# sourceMappingURL=auth.9efbfda8.js.map