(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["JobSeekContactForm"],{"486d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-form",{attrs:{id:"jobseek-contact-form"}},[a("h3",{staticClass:"h5 mb-0"},[e._v("Ihre Kontaktdaten")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-lg-3"},[a("label",{staticClass:"d-block",attrs:{for:"gender"}},[e._v("Anrede")]),a("b-form-select",{attrs:{id:"gender"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("b-form-select-option",{attrs:{value:""}},[e._v("-- Anrede auswählen --")]),e._l(e.contactGenderOptions,(function(t){return a("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2)],1),a("div",{staticClass:"col-12 col-lg-3"},[a("label",{staticClass:"d-block",attrs:{for:"title"}},[e._v("Titel")]),a("b-form-select",{attrs:{id:"title"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}},[a("b-form-select-option",{attrs:{value:""}},[e._v("-- Titel auswählen --")]),e._l(e.contactTitleOptions,(function(t){return a("b-form-select-option",{key:t,attrs:{value:t}},[e._v(e._s(t))])}))],2)],1),a("div",{staticClass:"w-100"}),a("div",{staticClass:"col-12 col-lg-4"},[a("label",{attrs:{for:"firstName",required:""}},[e._v("Vorname")]),a("b-form-input",{attrs:{id:"firstName",state:e.validated?!!e.form.firstName:null,type:"text",placeholder:"Vorname eingeben...",autocomplete:"given-name",trim:""},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),a("div",{staticClass:"col-12 col-lg-4"},[a("label",{attrs:{for:"lastName",required:""}},[e._v("Nachname")]),a("b-form-input",{attrs:{id:"lastName",state:e.validated?!!e.form.lastName:null,type:"text",placeholder:"Nachname eingeben...",autocomplete:"family-name",trim:""},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),a("div",{staticClass:"col-12 col-lg-8"},[a("label",{attrs:{for:"email",required:""}},[e._v("E-Mail Adresse")]),a("b-input-group",{scopedSlots:e._u([{key:"prepend",fn:function(){return[a("b-input-group-text",[e._v("@")])]},proxy:!0}])},[a("b-form-input",{attrs:{id:"email",state:e.validated?!!e.form.email:null,type:"email",placeholder:"E-Mail Adresse eingeben...",autocomplete:"email",trim:"","aria-describedby":"email-help"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-form-text",{staticClass:"ml-1",attrs:{id:"email-help"}},[e._v("Ihre E-Mail Adresse wird der/dem Jobsuchenden zum Antworten auf Ihre Nachricht angezeigt.")])],1),a("div",{staticClass:"col-12 col-lg-8"},[a("label",{staticClass:"d-block",attrs:{for:"job"}},[e._v("Ihre freie Stellenanzeige")]),a("b-form-select",{attrs:{id:"job"},model:{value:e.form.jobId,callback:function(t){e.$set(e.form,"jobId",t)},expression:"form.jobId"}},[a("b-form-select-option",{attrs:{value:""}},[e._v("-- Stellenanzeige auswählen --")]),e._l(e.myJobs,(function(t){return a("b-form-select-option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.text))])}))],2)],1)]),a("label",{staticClass:"h5 mt-4",attrs:{for:"message"}},[e._v("Ihre Nachricht *")]),a("b-form-textarea",{attrs:{id:"message",rows:"10","lazy-formatter":"",formatter:e.formatter,state:e.validated?!!e.form.message:null,placeholder:"Ihre Nachricht eingeben...","aria-describedby":"message-help",required:"",trim:""},model:{value:e.form.message,callback:function(t){e.$set(e.form,"message",t)},expression:"form.message"}}),a("b-form-text",{staticClass:"ml-1",attrs:{id:"message-help"}},[e._v("Stellen Sie kurz Ihre offene Stelle mit Aufgabenbereichen, Profilanforderungen und Benefits vor. Fügen Sie ggfls. einen Link zum Stellenangebot ein. Gehen Sie auch darauf ein, warum die Person hinter dem Stellengesuch zur Stelle passen würde.")]),a("b-form-checkbox",{attrs:{id:"accepted",state:e.validated?e.form.accepted:null,name:"accepted",switch:""},model:{value:e.form.accepted,callback:function(t){e.$set(e.form,"accepted",t)},expression:"form.accepted"}},[e._v(" Ich habe die "),a("b-link",{attrs:{href:"/agbs",target:"_blank"}},[e._v(" AGBs ")]),e._v(" und "),a("b-link",{attrs:{href:"/datenschutz",target:"_blank"}},[e._v(" Datenschutzbestimmungen ")]),e._v(" gelesen und akzeptiere diese. * ")],1),a("div",{staticClass:"d-flex justify-content-between my-4"},[a("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return t.preventDefault(),e.$router.go(-1)}}},[e._v(" Zurück ")]),a("b-button",{attrs:{variant:"success",disabled:e.success},on:{click:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[e.success?a("span",[a("svg",{staticClass:"bi bi-check-all mr-1",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16"}},[a("path",{attrs:{d:"M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z"}})]),e._v(" Erfolgreich gesendet ")]):a("span",[e._v("Absenden")])])],1)],1),e.error?a("b-alert",{staticClass:"border-radius2 mt-3",attrs:{show:"",dismissible:"",variant:"danger"}},[e._v(e._s(e.error))]):e._e(),e.success?a("b-alert",{staticClass:"border-radius2 mt-3",attrs:{show:"",dismissible:"",variant:"success"}},[e._v(" Ihre Nachricht wurde erfolgreich gesendet. Sie erhalten eine Kopie Ihrer Nachricht an Ihre angegebene E-Mail Adresse. Wir wünschen Ihnen viel Erfolg im Gespräch"+e._s(e.name?" mit "+e.name:"")+".")]):e._e()],1)},r=[],i=a("1ba6"),l={name:"JobSeekContactForm",props:{name:{type:String,default:""},jobSeekId:{type:String,default:""}},data(){return{form:{gender:this.$store.state.auth.user.gender||"",title:this.$store.state.auth.user.title||"",firstName:this.$store.state.auth.user.firstName||"",lastName:this.$store.state.auth.user.lastName||"",email:this.$store.state.auth.user.email||"",message:"",jobId:"",accepted:!1},myJobs:null,validated:null,success:null,error:!1,contactGenderOptions:i["e"],contactTitleOptions:i["f"]}},async created(){await this.getMyJobs()},methods:{async getMyJobs(){this.$store.dispatch("setOverlay",!0);try{const e=await this.$axios.get("/graphql",{params:{query:"\n              query {\n                myJobs {\n                  _id\n                  title\n                  status\n                  company {\n                    name\n                  }\n                }\n              }\n            "}});if(!e.data.data.myJobs)return null;this.myJobs=e.data.data.myJobs.filter(e=>"published"==e.status).map(e=>({value:e._id,text:`${e.title} | ${e.company.name}`}))}catch(e){}this.$store.dispatch("setOverlay",!1)},async onSubmit(){if(this.error=!1,!this.formValidation())return this.error="Bitte füllen Sie die erforderlichen Felder aus!",null;this.$store.dispatch("setOverlay",!0);try{const e=await this.$axios.post("/api/send-email/contact-jobseek",{...this.form,jobSeekId:this.jobSeekId});e.data.error&&(this.error=e.data.error),e.data.success&&(this.success=e.data.success,this.$root.$bvToast.toast("Ihre Nachricht wurde erfolgreich versandt.",{title:"Nachricht versandt",variant:"success",toaster:"b-toaster-bottom-right",solid:!0}),this.$gtag.event("jobseek_contact",{event_label:`${this.jobSeekId} by ${this.$store.state.auth.user._id}`}),this.$matomo&&this.$matomo.trackEvent("engagement","jobseek_contact",`${this.jobSeekId} by ${this.$store.state.auth.user._id}`),this.resetForm())}catch(e){this.$root.$bvToast.toast("Es ist ein Fehler beim Versenden aufgetreten. Bitte versuchen Sie die Seite neu zu laden oder nehmen Sie ggfls. Kontakt über unser Kontaktformular zu uns auf.",{title:"Fehler beim Versenden",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!0})}this.$store.dispatch("setOverlay",!1)},resetForm(){this.validated=null,this.form={gender:"",title:"",firstName:"",lastName:"",email:"",message:"",accepted:!1}},formatter(e){return e.replace(/"/gi,"'").replace(/\\/g,"/")},formValidation(){return this.validated=!0,!!(this.form.firstName&&this.form.lastName&&this.form.email&&this.form.message&&this.form.accepted)}}},o=l,n=a("2877"),c=Object(n["a"])(o,s,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=JobSeekContactForm.c6e113be.js.map