(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["company_edit~job_edit~training_edit"],{5641:function(e,t,r){"use strict";var i,n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"d-flex"},[r("BFormFile",{ref:"file-input",attrs:{id:e.id,state:e.validated&&!!e.file||null,accept:"image/jpeg, image/png",placeholder:"Datei wählen/ablegen...","drop-placeholder":"Datei hier ablegen...","browse-text":"Durchsuchen"},on:{input:e.uploadImage},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),r("b-button",{staticClass:"ml-2",attrs:{variant:"outline-danger"},on:{click:function(t){return t.preventDefault(),e.resetFile(t)}}},[r("Fa",{attrs:{icon:"trash-alt"}})],1)],1),r("b-form-invalid-feedback",{attrs:{state:e.success}},[e._v(" Das Bild muss im Format *.jpg oder *.png hochgeladen werden und darf maximal 5MB groß sein. ")])],1)},a=[],s=(r("a9e3"),r("96cf"),r("c964")),o=r("2b0e"),c=r("c637"),l=r("e863"),u=r("0056"),f=r("a723"),d=r("9b76"),p=r("992e"),h=r("ca88"),b=r("2326"),m=r("c9a9"),g=r("906c"),v=r("6b77"),O=r("6c06"),y=r("7b1e"),j=r("3c21"),w=r("58f2"),F=r("d82f"),A=r("cf75"),D=r("fa73"),x=r("686b"),$=r("493b"),N=r("dde7"),E=r("a953"),I=r("d520"),k=r("90ef"),P=r("8c18"),_=r("ad47");function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=Object(w["a"])("value",{type:[f["b"],h["b"]],defaultValue:null,validator:function(e){return""===e?(Object(x["a"])(G,c["F"]),!0):Object(y["p"])(e)||M(e)}}),R=V.mixin,B=V.props,U=V.prop,z=V.event,G='Setting "value"/"v-model" to an empty string for reset is deprecated. Set to "null" instead.',M=function e(t){return Object(y["e"])(t)||Object(y["a"])(t)&&t.every((function(t){return e(t)}))},H=function(e){return Object(y["f"])(e.getAsEntry)?e.getAsEntry():Object(y["f"])(e.webkitGetAsEntry)?e.webkitGetAsEntry():null},q=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Promise.all(Object(b["f"])(e).filter((function(e){return"file"===e.kind})).map((function(e){var r=H(e);if(r){if(r.isDirectory&&t)return L(r.createReader(),"".concat(r.name,"/"));if(r.isFile)return new Promise((function(e){r.file((function(t){t.$path="",e(t)}))}))}return null})).filter(O["a"]))},L=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(i){var n=[],a=function a(){t.readEntries((function(t){0===t.length?i(Promise.all(n).then((function(e){return Object(b["d"])(e)}))):(n.push(Promise.all(t.map((function(t){if(t){if(t.isDirectory)return e(t.createReader(),"".concat(r).concat(t.name,"/"));if(t.isFile)return new Promise((function(e){t.file((function(t){t.$path="".concat(r).concat(t.name),e(t)}))}))}return null})).filter(O["a"]))),a())}))};a()}))},J=Object(A["d"])(Object(F["m"])(S(S(S(S(S(S(S({},k["b"]),B),N["b"]),E["b"]),I["b"]),_["b"]),{},{accept:Object(A["c"])(f["s"],""),browseText:Object(A["c"])(f["s"],"Browse"),capture:Object(A["c"])(f["g"],!1),directory:Object(A["c"])(f["g"],!1),dropPlaceholder:Object(A["c"])(f["s"],"Drop files here"),fileNameFormatter:Object(A["c"])(f["k"]),multiple:Object(A["c"])(f["g"],!1),noDrop:Object(A["c"])(f["g"],!1),noDropPlaceholder:Object(A["c"])(f["s"],"Not allowed"),noTraverse:Object(A["c"])(f["g"],!1),placeholder:Object(A["c"])(f["s"],"No file chosen")})),c["F"]),X=o["default"].extend({name:c["F"],mixins:[$["a"],k["a"],R,P["a"],N["a"],I["a"],E["a"],P["a"]],inheritAttrs:!1,props:J,data:function(){return{files:[],dragging:!1,dropAllowed:!this.noDrop,hasFocus:!1}},computed:{computedAccept:function(){var e=this.accept;return e=(e||"").trim().split(/[,\s]+/).filter(O["a"]),0===e.length?null:e.map((function(e){var t="name",r="^",i="$";p["i"].test(e)?r="":(t="type",p["s"].test(e)&&(i=".+$",e=e.slice(0,-1))),e=Object(D["a"])(e);var n=new RegExp("".concat(r).concat(e).concat(i));return{rx:n,prop:t}}))},computedCapture:function(){var e=this.capture;return!0===e||""===e||(e||null)},computedAttrs:function(){var e=this.name,t=this.disabled,r=this.required,i=this.form,n=this.computedCapture,a=this.accept,s=this.multiple,o=this.directory;return S(S({},this.bvAttrs),{},{type:"file",id:this.safeId(),name:e,disabled:t,required:r,form:i||null,capture:n,accept:a||null,multiple:s,directory:o,webkitdirectory:o,"aria-required":r?"true":null})},computedFileNameFormatter:function(){var e=this.fileNameFormatter;return Object(A["b"])(e)?e:this.defaultFileNameFormatter},clonedFiles:function(){return Object(m["a"])(this.files)},flattenedFiles:function(){return Object(b["e"])(this.files)},fileNames:function(){return this.flattenedFiles.map((function(e){return e.name}))},labelContent:function(){if(this.dragging&&!this.noDrop)return this.normalizeSlot(d["h"],{allowed:this.dropAllowed})||(this.dropAllowed?this.dropPlaceholder:this.$createElement("span",{staticClass:"text-danger"},this.noDropPlaceholder));if(0===this.files.length)return this.normalizeSlot(d["F"])||this.placeholder;var e=this.flattenedFiles,t=this.clonedFiles,r=this.fileNames,i=this.computedFileNameFormatter;return this.hasNormalizedSlot(d["k"])?this.normalizeSlot(d["k"],{files:e,filesTraversed:t,names:r}):i(e,t,r)}},watch:(i={},T(i,U,(function(e){(!e||Object(y["a"])(e)&&0===e.length)&&this.reset()})),T(i,"files",(function(e,t){if(!Object(j["a"])(e,t)){var r=this.multiple,i=this.noTraverse,n=!r||i?Object(b["e"])(e):e;this.$emit(z,r?n:n[0]||null)}})),i),created:function(){this.$_form=null},mounted:function(){var e=Object(g["e"])("form",this.$el);e&&(Object(v["b"])(e,"reset",this.reset,u["V"]),this.$_form=e)},beforeDestroy:function(){var e=this.$_form;e&&Object(v["a"])(e,"reset",this.reset,u["V"])},methods:{isFileValid:function(e){if(!e)return!1;var t=this.computedAccept;return!t||t.some((function(t){return t.rx.test(e[t.prop])}))},isFilesArrayValid:function(e){var t=this;return Object(y["a"])(e)?e.every((function(e){return t.isFileValid(e)})):this.isFileValid(e)},defaultFileNameFormatter:function(e,t,r){return r.join(", ")},setFiles:function(e){this.dropAllowed=!this.noDrop,this.dragging=!1,this.files=this.multiple?this.directory?e:Object(b["e"])(e):Object(b["e"])(e).slice(0,1)},setInputFiles:function(e){try{var t=new ClipboardEvent("").clipboardData||new DataTransfer;Object(b["e"])(Object(m["a"])(e)).forEach((function(e){delete e.$path,t.items.add(e)})),this.$refs.input.files=t.files}catch(r){}},reset:function(){try{var e=this.$refs.input;e.value="",e.type="",e.type="file"}catch(t){}this.files=[]},handleFiles:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var r=e.filter(this.isFilesArrayValid);r.length>0&&(this.setFiles(r),this.setInputFiles(r))}else this.setFiles(e)},focusHandler:function(e){this.plain||"focusout"===e.type?this.hasFocus=!1:this.hasFocus=!0},onChange:function(e){var t=this,r=e.type,i=e.target,n=e.dataTransfer,a=void 0===n?{}:n,s="drop"===r;this.$emit(u["d"],e);var o=Object(b["f"])(a.items||[]);if(l["e"]&&o.length>0&&!Object(y["g"])(H(o[0])))q(o,this.directory).then((function(e){return t.handleFiles(e,s)}));else{var c=Object(b["f"])(i.files||a.files||[]).map((function(e){return e.$path=e.webkitRelativePath||"",e}));this.handleFiles(c,s)}},onDragenter:function(e){Object(v["f"])(e),this.dragging=!0;var t=e.dataTransfer,r=void 0===t?{}:t;if(this.noDrop||this.disabled||!this.dropAllowed)return r.dropEffect="none",void(this.dropAllowed=!1);r.dropEffect="copy"},onDragover:function(e){Object(v["f"])(e),this.dragging=!0;var t=e.dataTransfer,r=void 0===t?{}:t;if(this.noDrop||this.disabled||!this.dropAllowed)return r.dropEffect="none",void(this.dropAllowed=!1);r.dropEffect="copy"},onDragleave:function(e){var t=this;Object(v["f"])(e),this.$nextTick((function(){t.dragging=!1,t.dropAllowed=!t.noDrop}))},onDrop:function(e){var t=this;Object(v["f"])(e),this.dragging=!1,this.noDrop||this.disabled||!this.dropAllowed?this.$nextTick((function(){t.dropAllowed=!t.noDrop})):this.onChange(e)}},render:function(e){var t=this.custom,r=this.plain,i=this.size,n=this.dragging,a=this.stateClass,s=this.bvAttrs,o=e("input",{class:[{"form-control-file":r,"custom-file-input":t,focus:t&&this.hasFocus},a],style:t?{zIndex:-5}:{},attrs:this.computedAttrs,on:{change:this.onChange,focusin:this.focusHandler,focusout:this.focusHandler,reset:this.reset},ref:"input"});if(r)return o;var c=e("label",{staticClass:"custom-file-label",class:{dragging:n},attrs:{for:this.safeId(),"data-browse":this.browseText||null}},[e("span",{staticClass:"d-block form-file-text",style:{pointerEvents:"none"}},[this.labelContent])]);return e("div",{staticClass:"custom-file b-form-file",class:[T({},"b-custom-control-".concat(i),i),a,s.class],style:s.style,attrs:{id:this.safeId("_BV_file_outer_")},on:{dragenter:this.onDragenter,dragover:this.onDragover,dragleave:this.onDragleave,drop:this.onDrop}},[o,c])}});o["default"].component("BFormFile",X);var Y={name:"ImageUploader",props:{id:{type:String,default:""},validated:{type:Boolean},imageUrl:{type:String,default:""},width:{type:Number,default:0},height:{type:Number,default:0},fit:{type:String,default:"outside"}},data:function(){return{file:null,success:null}},methods:{uploadImage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.success=null,e){r.next=3;break}return r.abrupt("return");case 3:return t.$store.dispatch("setOverlay",!0),r.prev=4,t.imageUrl&&t.deleteImage(),i=new FormData,i.append("file",e),i.append("width",t.width),i.append("height",t.height),i.append("fit",t.fit),r.next=13,t.$axios.post("/api/images/upload",i);case 13:n=r.sent,n.data.success?t.$emit("update-url",n.data.url):(t.success=!1,t.$emit("update-url","")),r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](4),t.$root.$bvToast.toast("Das Bild konnte nicht gespeichert werden.",{title:"Fehler beim Speichern",variant:"danger",toaster:"b-toaster-bottom-right",solid:!0,noAutoHide:!1});case 20:t.$store.dispatch("setOverlay",!1);case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()},deleteImage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setOverlay",!0),t.prev=1,t.next=4,e.$axios.post("/api/images/delete",{imageUrl:e.imageUrl});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1);case 9:e.$store.dispatch("setOverlay",!1);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},resetFile:function(){this.$store.dispatch("setOverlay",!0),this.imageUrl&&this.deleteImage(),this.$refs["file-input"].reset(),this.$emit("update-url",""),this.$store.dispatch("setOverlay",!1)}}},K=Y,Q=r("2877"),W=Object(Q["a"])(K,n,a,!1,null,null,null);t["a"]=W.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var i=r("1d80"),n=r("5899"),a="["+n+"]",s=RegExp("^"+a+a+"*"),o=RegExp(a+a+"*$"),c=function(e){return function(t){var r=String(i(t));return 1&e&&(r=r.replace(s,"")),2&e&&(r=r.replace(o,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,r){var i=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var a,s;return n&&"function"==typeof(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&n(e,s),e}},a9e3:function(e,t,r){"use strict";var i=r("83ab"),n=r("da84"),a=r("94ca"),s=r("6eeb"),o=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),f=r("d039"),d=r("7c73"),p=r("241c").f,h=r("06cf").f,b=r("9bf2").f,m=r("58a8").trim,g="Number",v=n[g],O=v.prototype,y=c(d(O))==g,j=function(e){var t,r,i,n,a,s,o,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=m(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+l}for(a=l.slice(2),s=a.length,o=0;o<s;o++)if(c=a.charCodeAt(o),c<48||c>n)return NaN;return parseInt(a,i)}return+l};if(a(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,F=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof F&&(y?f((function(){O.valueOf.call(r)})):c(r)!=g)?l(new v(j(t)),r,F):j(t)},A=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),D=0;A.length>D;D++)o(v,w=A[D])&&!o(F,w)&&b(F,w,h(v,w));F.prototype=O,O.constructor=F,s(n,g,F)}}}]);
//# sourceMappingURL=company_edit~job_edit~training_edit.b29eb8ce.js.map