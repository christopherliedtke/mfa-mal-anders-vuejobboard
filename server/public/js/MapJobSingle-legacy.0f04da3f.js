(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MapJobSingle"],{a050:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"map"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showMap,expression:"showMap"}],ref:"hereMap",staticClass:"map-container"}),a("Head",{attrs:{link:e.link}})],1)},r=[],s=a("1da1"),o=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("b0c0"),a("d81d"),{name:"MapJobSingle",props:{job:{type:Object,default:function(){}}},data:function(){return{platform:null,apikey:"n3GOlcV0Z6utqCKpJlDWH6lWYtJdvR0QomMzYs_EreM",mapContainer:null,map:null,mapTypes:null,H:null,showMap:!0,link:[{id:"mapsjs-ui",rel:"stylesheet",href:"https://js.api.here.com/v3/3.1/mapsjs-ui.css",type:"text/css"}]}},watch:{job:function(){this.deleteMarkers(),this.setMapMarker(this.job,this.getGeoCode(this.job),this.H),this.moveMap(this.getGeoCode(this.job))}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window&&(window.prerenderReady=!0),t.prev=1,t.next=4,e.$loadScript("https://js.api.here.com/v3/3.1/mapsjs-core.js");case 4:return t.next=6,Promise.all([e.$loadScript("https://js.api.here.com/v3/3.1/mapsjs-service.js"),e.$loadScript("https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"),e.$loadScript("https://js.api.here.com/v3/3.1/mapsjs-ui.js")]);case 6:a=new window.H.service.Platform({apikey:e.apikey}),e.platform=a,e.initializeHereMap(),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,null,[[1,11]])})))()},methods:{getGeoCode:function(e){var t;return e.company&&(t={lat:e.company.geoCodeLat,lng:e.company.geoCodeLng}),t},setMapMarker:function(e,t,a){var n=document.createElement("div");n.classList.add("icon-outer");var r=document.createElement("img");r.classList.add("icon-inner"),r.src=e.company.logoUrl||"/img/favicon.png",r.alt="Logo - "+(e.company.logoUrl?e.company.name:"MFA mal anders"),n.appendChild(r);var s=new a.map.DomIcon(n);this.map.addObject(new window.H.map.DomMarker(t,{icon:s}))},deleteMarkers:function(){this.map&&this.map.removeObjects(this.map.getObjects())},moveMap:function(e){this.map.setCenter(e),this.map.setZoom(13)},initializeHereMap:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{a=e.getGeoCode(e.job),a&&(e.mapContainer=e.$refs.hereMap,e.H=window.H,e.maptypes=e.platform.createDefaultLayers({lg:"de"}),e.map=new e.H.Map(e.mapContainer,e.maptypes.vector.normal.map,{zoom:13,center:a}),e.setMapMarker(e.job,a,e.H),addEventListener("resize",(function(){return e.map.getViewPort().resize()})),new e.H.mapevents.Behavior(new e.H.mapevents.MapEvents(e.map)),e.H.ui.UI.createDefault(e.map,e.maptypes))}catch(n){e.showMap=!1}case 1:case"end":return t.stop()}}),t)})))()}}}),i=o,p=a("2877"),c=Object(p["a"])(i,n,r,!1,null,null,null);t["default"]=c.exports},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,s=a("1dde"),o=s("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=MapJobSingle-legacy.0f04da3f.js.map